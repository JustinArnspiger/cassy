

Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:07:25 +1000


Started GET "/login" for 127.0.0.1 at 2011-06-15 16:07:25 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-15 16:07:25 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-15 16:07:25 +1000


Started GET "/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-15 16:07:25 +1000


Started GET "/logout" for 127.0.0.1 at 2011-06-15 16:07:25 +1000


Started GET "/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-15 16:07:25 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-15 16:07:25 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:11:20 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:13:36 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:14:28 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:17:03 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:17:50 +1000
  Processing by Cassy::SessionsController#new as HTML
Completed 500 Internal Server Error in 8ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:31:28 +1000
  Processing by Cassy::SessionsController#new as HTML
Completed 500 Internal Server Error in 11ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:33:08 +1000
  Processing by Cassy::SessionsController#new as HTML
Completed 500 Internal Server Error in 1ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:35:20 +1000
  Processing by Cassy::SessionsController#new as HTML
Completed 500 Internal Server Error in 1ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:37:40 +1000
  Processing by Cassy::SessionsController#new as HTML
Completed 500 Internal Server Error in 2ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:42:56 +1000
  Processing by Cassy::SessionsController#new as HTML
Completed 500 Internal Server Error in 63ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:43:30 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (54.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:43:31 UTC +00:00], ["ticket", "LT-1308120210r3A08DDD6C64386E3DC"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 111ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:44:11 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (25.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:44:11 UTC +00:00], ["ticket", "LT-1308120251r2302B7AE3C7E52D4CA"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120251r2302B7AE3C7E52D4CA' for client at '127.0.0.1'
Completed 500 Internal Server Error in 45ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:44:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:44:38 UTC +00:00], ["ticket", "LT-1308120278r984C46A9DC2030F1E7"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120278r984C46A9DC2030F1E7' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120278r984C46A9DC2030F1E7, service: , renew: , gateway: false
Completed 500 Internal Server Error in 132ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:45:00 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:45:00 UTC +00:00], ["ticket", "LT-1308120300rFE60D487262EB63F28"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120300rFE60D487262EB63F28' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120300rFE60D487262EB63F28, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb (13.4ms)
Completed 200 OK in 124ms (Views: 50.6ms | ActiveRecord: 20.1ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:45:36 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (21.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:45:36 UTC +00:00], ["ticket", "LT-1308120336rD47CB63553D4199C66"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120336rD47CB63553D4199C66' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120336rD47CB63553D4199C66, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb (13.4ms)
Completed 200 OK in 93ms (Views: 53.3ms | ActiveRecord: 22.0ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:46:00 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.2ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:46:00 UTC +00:00], ["ticket", "LT-1308120360r9C2E7D7E581A46AAB8"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120360r9C2E7D7E581A46AAB8' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120360r9C2E7D7E581A46AAB8, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb (13.2ms)
Completed 200 OK in 87ms (Views: 51.6ms | ActiveRecord: 19.8ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:46:17 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:46:17 UTC +00:00], ["ticket", "LT-1308120377r7D038F2DD949EC2CA9"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120377r7D038F2DD949EC2CA9' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120377r7D038F2DD949EC2CA9, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb (13.7ms)
Completed 200 OK in 129ms (Views: 52.4ms | ActiveRecord: 20.8ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:46:39 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:46:39 UTC +00:00], ["ticket", "LT-1308120399r245F6C284C7759767C"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120399r245F6C284C7759767C' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120399r245F6C284C7759767C, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb (13.4ms)
Completed 200 OK in 132ms (Views: 51.2ms | ActiveRecord: 20.5ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:47:18 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:47:18 UTC +00:00], ["ticket", "LT-1308120438rB7FAEA82E0F109801C"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120438rB7FAEA82E0F109801C' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120438rB7FAEA82E0F109801C, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.7ms)
Completed 200 OK in 92ms (Views: 55.8ms | ActiveRecord: 20.9ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:47:41 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:47:41 UTC +00:00], ["ticket", "LT-1308120461r2040B42A5CF9E3E6AD"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120461r2040B42A5CF9E3E6AD' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120461r2040B42A5CF9E3E6AD, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.5ms)
Completed 200 OK in 93ms (Views: 54.5ms | ActiveRecord: 20.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 16:47:42 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "commit"=>"Login"}
Completed 500 Internal Server Error in 26ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:52:57 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (22.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:52:57 UTC +00:00], ["ticket", "LT-1308120777rED7F9E6C69F3F4618F"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120777rED7F9E6C69F3F4618F' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120777rED7F9E6C69F3F4618F, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (17.6ms)
Completed 200 OK in 98ms (Views: 58.5ms | ActiveRecord: 23.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 16:52:57 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"{:value=>\"LT-1308120777rED7F9E6C69F3F4618F\"}", "service"=>"{:value=>nil}", "commit"=>"Login"}
Completed 500 Internal Server Error in 81ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:53:24 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:53:25 UTC +00:00], ["ticket", "LT-1308120805rFDA1DEDF3EA3F9701F"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120805rFDA1DEDF3EA3F9701F' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120805rFDA1DEDF3EA3F9701F, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.7ms)
Completed 200 OK in 126ms (Views: 53.4ms | ActiveRecord: 20.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 16:53:25 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"{:value=>\"LT-1308120805rFDA1DEDF3EA3F9701F\"}", "service"=>"{:value=>nil}", "commit"=>"Login"}
Completed 500 Internal Server Error in 1ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:54:20 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:54:20 UTC +00:00], ["ticket", "LT-1308120860r7318C0488CEA458421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120860r7318C0488CEA458421' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120860r7318C0488CEA458421, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.7ms)
Completed 200 OK in 128ms (Views: 53.7ms | ActiveRecord: 20.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 16:54:20 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"{:value=>\"LT-1308120860r7318C0488CEA458421\"}", "service"=>"{:value=>nil}", "commit"=>"Login"}
Completed 500 Internal Server Error in 2ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:54:45 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.4ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:54:45 UTC +00:00], ["ticket", "LT-1308120885r1A17C455182003774B"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120885r1A17C455182003774B' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120885r1A17C455182003774B, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (14.0ms)
Completed 200 OK in 88ms (Views: 52.7ms | ActiveRecord: 20.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 16:54:46 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"{:value=>\"LT-1308120885r1A17C455182003774B\"}", "service"=>"{:value=>nil}", "commit"=>"Login"}
Completed 500 Internal Server Error in 1ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:55:10 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:55:10 UTC +00:00], ["ticket", "LT-1308120910r1143345AE22F9CEA6D"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120910r1143345AE22F9CEA6D' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120910r1143345AE22F9CEA6D, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (15.0ms)
Completed 200 OK in 91ms (Views: 55.8ms | ActiveRecord: 20.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 16:55:10 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"{:value=>\"LT-1308120910r1143345AE22F9CEA6D\"}", "service"=>"{:value=>nil}", "commit"=>"Login"}
Validating login ticket '{:value=>"LT-1308120910r1143345AE22F9CEA6D"}'
  [1m[35mCassy::LoginTicket Load (0.3ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = '{:value=>"LT-1308120910r1143345AE22F9CEA6D"}' LIMIT 1
Completed 500 Internal Server Error in 34ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:56:04 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:56:04 UTC +00:00], ["ticket", "LT-1308120964r2D4CB47F1CCC039EAD"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120964r2D4CB47F1CCC039EAD' for client at '127.0.0.1'
Rendering login form with lt: LT-1308120964r2D4CB47F1CCC039EAD, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (14.2ms)
Completed 200 OK in 91ms (Views: 55.1ms | ActiveRecord: 21.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 16:56:05 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"{:value=>\"LT-1308120964r2D4CB47F1CCC039EAD\"}", "service"=>"{:value=>nil}", "commit"=>"Login"}
Validating login ticket '{:value=>"LT-1308120964r2D4CB47F1CCC039EAD"}'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = '{:value=>"LT-1308120964r2D4CB47F1CCC039EAD"}' LIMIT 1
Invalid login ticket '{:value=>"LT-1308120964r2D4CB47F1CCC039EAD"}'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:56:05 UTC +00:00], ["ticket", "LT-1308120965rDABA1F0E317E1F30CB"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308120965rDABA1F0E317E1F30CB' for client at '127.0.0.1'
Completed 500 Internal Server Error in 30ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 16:57:01 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:57:01 UTC +00:00], ["ticket", "LT-1308121021rAF26541A8917A1F18A"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308121021rAF26541A8917A1F18A' for client at '127.0.0.1'
Rendering login form with lt: LT-1308121021rAF26541A8917A1F18A, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.7ms)
Completed 200 OK in 87ms (Views: 53.3ms | ActiveRecord: 20.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 16:57:01 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"{:value=>\"LT-1308121021rAF26541A8917A1F18A\"}", "service"=>"{:value=>nil}", "commit"=>"Login"}
Validating login ticket '{:value=>"LT-1308121021rAF26541A8917A1F18A"}'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = '{:value=>"LT-1308121021rAF26541A8917A1F18A"}' LIMIT 1
Invalid login ticket '{:value=>"LT-1308121021rAF26541A8917A1F18A"}'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 06:57:01 UTC +00:00], ["ticket", "LT-1308121021r72B1621BC694F86BFE"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308121021r72B1621BC694F86BFE' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 30ms (Views: 1.9ms | ActiveRecord: 0.9ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:27:27 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (52.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:27:27 UTC +00:00], ["ticket", "LT-1308122847r23587F726B21E923B9"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308122847r23587F726B21E923B9' for client at '127.0.0.1'
Rendering login form with lt: LT-1308122847r23587F726B21E923B9, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (63.2ms)
Completed 200 OK in 195ms (Views: 119.4ms | ActiveRecord: 53.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:27:27 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"{:value=>\"LT-1308122847r23587F726B21E923B9\"}", "service"=>"{:value=>nil}", "commit"=>"Login"}
Validating login ticket '{:value=>"LT-1308122847r23587F726B21E923B9"}'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = '{:value=>"LT-1308122847r23587F726B21E923B9"}' LIMIT 1
Invalid login ticket '{:value=>"LT-1308122847r23587F726B21E923B9"}'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:27:27 UTC +00:00], ["ticket", "LT-1308122847r761E3E8099C2D69417"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308122847r761E3E8099C2D69417' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (1.3ms)
Completed 500 Internal Server Error in 37ms (Views: 2.6ms | ActiveRecord: 1.1ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:28:28 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:28:28 UTC +00:00], ["ticket", "LT-1308122908r8B400454D7AA1C5A61"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308122908r8B400454D7AA1C5A61' for client at '127.0.0.1'
Rendering login form with lt: LT-1308122908r8B400454D7AA1C5A61, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.4ms)
Completed 200 OK in 102ms (Views: 57.5ms | ActiveRecord: 20.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:28:28 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308122908r8B400454D7AA1C5A61", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308122908r8B400454D7AA1C5A61'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308122908r8B400454D7AA1C5A61' LIMIT 1
Completed 500 Internal Server Error in 55ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:29:10 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (39.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:29:10 UTC +00:00], ["ticket", "LT-1308122950r3F3ECCDC21712E0A88"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308122950r3F3ECCDC21712E0A88' for client at '127.0.0.1'
Rendering login form with lt: LT-1308122950r3F3ECCDC21712E0A88, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (32.2ms)
Completed 200 OK in 181ms (Views: 118.1ms | ActiveRecord: 39.8ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:29:11 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308122950r3F3ECCDC21712E0A88", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308122950r3F3ECCDC21712E0A88'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308122950r3F3ECCDC21712E0A88' LIMIT 1
Completed 500 Internal Server Error in 28ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:30:18 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:30:18 UTC +00:00], ["ticket", "LT-1308123018rF049EB8925A180A880"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308123018rF049EB8925A180A880' for client at '127.0.0.1'
Rendering login form with lt: LT-1308123018rF049EB8925A180A880, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (14.9ms)
Completed 200 OK in 98ms (Views: 55.2ms | ActiveRecord: 19.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:30:18 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308123018rF049EB8925A180A880", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308123018rF049EB8925A180A880'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308123018rF049EB8925A180A880' LIMIT 1
Completed 500 Internal Server Error in 28ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:32:21 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (26.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:32:21 UTC +00:00], ["ticket", "LT-1308123141r949D29DA880D8D6771"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308123141r949D29DA880D8D6771' for client at '127.0.0.1'
Rendering login form with lt: LT-1308123141r949D29DA880D8D6771, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (17.0ms)
Completed 200 OK in 181ms (Views: 79.9ms | ActiveRecord: 27.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:32:21 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308123141r949D29DA880D8D6771", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308123141r949D29DA880D8D6771'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308123141r949D29DA880D8D6771' LIMIT 1
Completed 500 Internal Server Error in 28ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:33:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:33:38 UTC +00:00], ["ticket", "LT-1308123218r36EECCF9B07DB8C8E9"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308123218r36EECCF9B07DB8C8E9' for client at '127.0.0.1'
Rendering login form with lt: LT-1308123218r36EECCF9B07DB8C8E9, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.9ms)
Completed 200 OK in 186ms (Views: 148.7ms | ActiveRecord: 21.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:33:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308123218r36EECCF9B07DB8C8E9", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308123218r36EECCF9B07DB8C8E9'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308123218r36EECCF9B07DB8C8E9' LIMIT 1
Completed 500 Internal Server Error in 25ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:34:16 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (22.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:34:16 UTC +00:00], ["ticket", "LT-1308123256rF334F0EAEAEF12E6DF"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308123256rF334F0EAEAEF12E6DF' for client at '127.0.0.1'
Rendering login form with lt: LT-1308123256rF334F0EAEAEF12E6DF, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (18.0ms)
Completed 200 OK in 114ms (Views: 74.2ms | ActiveRecord: 23.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:34:16 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308123256rF334F0EAEAEF12E6DF", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308123256rF334F0EAEAEF12E6DF'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308123256rF334F0EAEAEF12E6DF' LIMIT 1
Completed 500 Internal Server Error in 29ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:46:08 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:46:08 UTC +00:00], ["ticket", "LT-1308123968r5261C4DBDD29E4A4C8"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308123968r5261C4DBDD29E4A4C8' for client at '127.0.0.1'
Rendering login form with lt: LT-1308123968r5261C4DBDD29E4A4C8, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.3ms)
Completed 200 OK in 144ms (Views: 57.6ms | ActiveRecord: 29.8ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:46:08 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308123968r5261C4DBDD29E4A4C8", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308123968r5261C4DBDD29E4A4C8'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308123968r5261C4DBDD29E4A4C8' LIMIT 1
Login ticket 'LT-1308123968r5261C4DBDD29E4A4C8' successfully validated
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-15 07:46:08.601173' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 65ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-15 17:48:12 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (29.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:48:12 UTC +00:00], ["ticket", "LT-1308124092r4F453E582DAE777079"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308124092r4F453E582DAE777079' for client at '127.0.0.1'
Rendering login form with lt: LT-1308124092r4F453E582DAE777079, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (14.3ms)
Completed 200 OK in 142ms (Views: 56.0ms | ActiveRecord: 30.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-15 17:48:12 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308124092r4F453E582DAE777079", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308124092r4F453E582DAE777079'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308124092r4F453E582DAE777079' LIMIT 1
Login ticket 'LT-1308124092r4F453E582DAE777079' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-15 07:48:12.522187' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 07:48:12 UTC +00:00], ["ticket", "LT-1308124092rD693D33354FDFFB6CE"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308124092rD693D33354FDFFB6CE' for client at '127.0.0.1'
Completed 500 Internal Server Error in 82ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 09:00:11 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (78.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:00:11 UTC +00:00], ["ticket", "LT-1308178811r3807D21C6D6EF8CC21"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308178811r3807D21C6D6EF8CC21' for client at '127.0.0.1'
Rendering login form with lt: LT-1308178811r3807D21C6D6EF8CC21, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.8ms)
Completed 200 OK in 178ms (Views: 82.4ms | ActiveRecord: 79.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 09:00:11 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308178811r3807D21C6D6EF8CC21", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308178811r3807D21C6D6EF8CC21'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308178811r3807D21C6D6EF8CC21' LIMIT 1
Login ticket 'LT-1308178811r3807D21C6D6EF8CC21' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-15 23:00:11.989533' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:00:11 UTC +00:00], ["ticket", "LT-1308178811rF17EA1B245BD055580"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308178811rF17EA1B245BD055580' for client at '127.0.0.1'
Completed 500 Internal Server Error in 44ms


Started GET "/login" for 127.0.0.1 at 2011-06-16 09:00:12 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 09:00:12 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 09:00:12 +1000


Started GET "/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 09:00:12 +1000


Started GET "/logout" for 127.0.0.1 at 2011-06-16 09:00:12 +1000


Started GET "/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 09:00:12 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 09:00:12 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 09:36:11 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (31.2ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:36:11 UTC +00:00], ["ticket", "LT-1308180971r575723ED3B892CFB9F"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308180971r575723ED3B892CFB9F' for client at '127.0.0.1'
Rendering login form with lt: LT-1308180971r575723ED3B892CFB9F, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.3ms)
Completed 200 OK in 110ms (Views: 64.3ms | ActiveRecord: 31.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 09:36:11 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308180971r575723ED3B892CFB9F", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308180971r575723ED3B892CFB9F'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308180971r575723ED3B892CFB9F' LIMIT 1
Login ticket 'LT-1308180971r575723ED3B892CFB9F' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-15 23:36:12.015224' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:36:12 UTC +00:00], ["ticket", "LT-1308180972r17A59D4B7CDBB8C0F5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308180972r17A59D4B7CDBB8C0F5' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308180972r17A59D4B7CDBB8C0F5, service: , auth: nil
Completed 500 Internal Server Error in 93ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 09:48:15 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:48:15 UTC +00:00], ["ticket", "LT-1308181695rE06CEA6E2667999E9C"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308181695rE06CEA6E2667999E9C' for client at '127.0.0.1'
Rendering login form with lt: LT-1308181695rE06CEA6E2667999E9C, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.3ms)
Completed 200 OK in 86ms (Views: 51.7ms | ActiveRecord: 20.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 09:48:15 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308181695rE06CEA6E2667999E9C", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308181695rE06CEA6E2667999E9C'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308181695rE06CEA6E2667999E9C' LIMIT 1
Login ticket 'LT-1308181695rE06CEA6E2667999E9C' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-15 23:48:15.594988' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:48:15 UTC +00:00], ["ticket", "LT-1308181695r127B83C1397DF5F816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308181695r127B83C1397DF5F816' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308181695r127B83C1397DF5F816, service: , auth: nil
Completed 500 Internal Server Error in 30ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 09:48:37 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.2ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:48:37 UTC +00:00], ["ticket", "LT-1308181717r398D0ABC3C53358FAF"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308181717r398D0ABC3C53358FAF' for client at '127.0.0.1'
Rendering login form with lt: LT-1308181717r398D0ABC3C53358FAF, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.4ms)
Completed 200 OK in 124ms (Views: 52.4ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 09:48:37 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308181717r398D0ABC3C53358FAF", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308181717r398D0ABC3C53358FAF'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308181717r398D0ABC3C53358FAF' LIMIT 1
Login ticket 'LT-1308181717r398D0ABC3C53358FAF' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-15 23:48:37.595668' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:48:37 UTC +00:00], ["ticket", "LT-1308181717rD0F21048F6B3F3F7E0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308181717rD0F21048F6B3F3F7E0' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308181717rD0F21048F6B3F3F7E0, service: , auth: nil
Completed 500 Internal Server Error in 66ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 09:48:52 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:48:52 UTC +00:00], ["ticket", "LT-1308181732rEF258F242118A0CFD0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308181732rEF258F242118A0CFD0' for client at '127.0.0.1'
Rendering login form with lt: LT-1308181732rEF258F242118A0CFD0, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.1ms)
Completed 200 OK in 85ms (Views: 51.4ms | ActiveRecord: 19.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 09:48:52 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308181732rEF258F242118A0CFD0", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308181732rEF258F242118A0CFD0'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308181732rEF258F242118A0CFD0' LIMIT 1
Login ticket 'LT-1308181732rEF258F242118A0CFD0' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-15 23:48:52.297422' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Wed, 15 Jun 2011 23:48:52 UTC +00:00], ["ticket", "LT-1308181732r3867C6B56438E6DAEE"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308181732r3867C6B56438E6DAEE' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308181732r3867C6B56438E6DAEE, service: , auth: nil
Completed 500 Internal Server Error in 29ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:06:22 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.2ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:06:22 UTC +00:00], ["ticket", "LT-1308182782r733ED0ECAE85B34C7E"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308182782r733ED0ECAE85B34C7E' for client at '127.0.0.1'
Rendering login form with lt: LT-1308182782r733ED0ECAE85B34C7E, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.2ms)
Completed 200 OK in 124ms (Views: 51.6ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:06:22 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308182782r733ED0ECAE85B34C7E", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308182782r733ED0ECAE85B34C7E'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308182782r733ED0ECAE85B34C7E' LIMIT 1
Login ticket 'LT-1308182782r733ED0ECAE85B34C7E' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:06:22.556303' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:06:22 UTC +00:00], ["ticket", "LT-1308182782r561F914876E4642328"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308182782r561F914876E4642328' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308182782r561F914876E4642328, service: , auth: nil
Completed 500 Internal Server Error in 91ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:07:04 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (23.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:07:04 UTC +00:00], ["ticket", "LT-1308182824rE6BDF39BE6938F49E5"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308182824rE6BDF39BE6938F49E5' for client at '127.0.0.1'
Rendering login form with lt: LT-1308182824rE6BDF39BE6938F49E5, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (21.2ms)
Completed 200 OK in 143ms (Views: 65.5ms | ActiveRecord: 24.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:07:04 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308182824rE6BDF39BE6938F49E5", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308182824rE6BDF39BE6938F49E5'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308182824rE6BDF39BE6938F49E5' LIMIT 1
Login ticket 'LT-1308182824rE6BDF39BE6938F49E5' successfully validated
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:07:04.958796' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:07:05 UTC +00:00], ["ticket", "LT-1308182825rE3127133559ED3B78E"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308182825rE3127133559ED3B78E' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308182825rE3127133559ED3B78E, service: , auth: nil
Completed 500 Internal Server Error in 127ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:07:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:07:38 UTC +00:00], ["ticket", "LT-1308182858rF5FCAF9A109FFD1F71"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308182858rF5FCAF9A109FFD1F71' for client at '127.0.0.1'
Rendering login form with lt: LT-1308182858rF5FCAF9A109FFD1F71, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.1ms)
Completed 200 OK in 133ms (Views: 54.0ms | ActiveRecord: 21.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:07:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308182858rF5FCAF9A109FFD1F71", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308182858rF5FCAF9A109FFD1F71'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308182858rF5FCAF9A109FFD1F71' LIMIT 1
Login ticket 'LT-1308182858rF5FCAF9A109FFD1F71' successfully validated
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:07:38.344530' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:07:38 UTC +00:00], ["ticket", "LT-1308182858r7FB2A3042B05D2F989"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308182858r7FB2A3042B05D2F989' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308182858r7FB2A3042B05D2F989, service: , auth: nil
Completed 500 Internal Server Error in 80ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:08:12 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:08:12 UTC +00:00], ["ticket", "LT-1308182892rE19564C27EF41B6621"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308182892rE19564C27EF41B6621' for client at '127.0.0.1'
Rendering login form with lt: LT-1308182892rE19564C27EF41B6621, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.0ms)
Completed 200 OK in 122ms (Views: 51.0ms | ActiveRecord: 19.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:08:12 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308182892rE19564C27EF41B6621", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308182892rE19564C27EF41B6621'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308182892rE19564C27EF41B6621' LIMIT 1
Login ticket 'LT-1308182892rE19564C27EF41B6621' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:08:12.598551' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:08:12 UTC +00:00], ["ticket", "LT-1308182892r4E03222314AF3F38FB"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308182892r4E03222314AF3F38FB' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308182892r4E03222314AF3F38FB, service: , auth: nil
Completed 500 Internal Server Error in 66ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:15:10 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.2ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:15:10 UTC +00:00], ["ticket", "LT-1308183310rAF0396B4B3ED6BE9C3"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183310rAF0396B4B3ED6BE9C3' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183310rAF0396B4B3ED6BE9C3, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.6ms)
Completed 200 OK in 132ms (Views: 54.4ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:15:11 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183310rAF0396B4B3ED6BE9C3", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183310rAF0396B4B3ED6BE9C3'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183310rAF0396B4B3ED6BE9C3' LIMIT 1
Login ticket 'LT-1308183310rAF0396B4B3ED6BE9C3' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:15:11.057428' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:15:11 UTC +00:00], ["ticket", "LT-1308183311r13833558CF560A2136"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183311r13833558CF560A2136' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183311r13833558CF560A2136, service: , auth: nil
Completed 500 Internal Server Error in 76ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:17:16 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:17:16 UTC +00:00], ["ticket", "LT-1308183436rE335B78623C92248CF"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183436rE335B78623C92248CF' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183436rE335B78623C92248CF, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.4ms)
Completed 200 OK in 86ms (Views: 51.7ms | ActiveRecord: 19.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:17:17 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183436rE335B78623C92248CF", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183436rE335B78623C92248CF'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183436rE335B78623C92248CF' LIMIT 1
Login ticket 'LT-1308183436rE335B78623C92248CF' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:17:17.158066' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:17:17 UTC +00:00], ["ticket", "LT-1308183437r2D4CBC2987A9461158"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183437r2D4CBC2987A9461158' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183437r2D4CBC2987A9461158, service: , auth: nil
Completed 500 Internal Server Error in 38ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:17:27 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:17:27 UTC +00:00], ["ticket", "LT-1308183447rB4B331D5D4215A175B"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183447rB4B331D5D4215A175B' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183447rB4B331D5D4215A175B, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.3ms)
Completed 200 OK in 124ms (Views: 51.8ms | ActiveRecord: 20.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:17:27 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183447rB4B331D5D4215A175B", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183447rB4B331D5D4215A175B'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183447rB4B331D5D4215A175B' LIMIT 1
Login ticket 'LT-1308183447rB4B331D5D4215A175B' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:17:27.749255' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:17:27 UTC +00:00], ["ticket", "LT-1308183447r5BBFA8C0181646B56C"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183447r5BBFA8C0181646B56C' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183447r5BBFA8C0181646B56C, service: , auth: nil
Completed 500 Internal Server Error in 75ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:17:50 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.2ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:17:50 UTC +00:00], ["ticket", "LT-1308183470r808412B6F00B089B75"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183470r808412B6F00B089B75' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183470r808412B6F00B089B75, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (14.1ms)
Completed 200 OK in 126ms (Views: 53.5ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:17:51 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183470r808412B6F00B089B75", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183470r808412B6F00B089B75'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183470r808412B6F00B089B75' LIMIT 1
Login ticket 'LT-1308183470r808412B6F00B089B75' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:17:51.073398' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:17:51 UTC +00:00], ["ticket", "LT-1308183471r269674C8AA56DA165E"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183471r269674C8AA56DA165E' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183471r269674C8AA56DA165E, service: , auth: nil
Completed 500 Internal Server Error in 78ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:19:12 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:19:12 UTC +00:00], ["ticket", "LT-1308183552rFD7E6165C690AEDE69"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183552rFD7E6165C690AEDE69' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183552rFD7E6165C690AEDE69, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.2ms)
Completed 200 OK in 86ms (Views: 51.8ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:19:12 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183552rFD7E6165C690AEDE69", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183552rFD7E6165C690AEDE69'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183552rFD7E6165C690AEDE69' LIMIT 1
Login ticket 'LT-1308183552rFD7E6165C690AEDE69' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:19:12.796993' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:19:12 UTC +00:00], ["ticket", "LT-1308183552r75B7C0FC4261C1FA71"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183552r75B7C0FC4261C1FA71' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183552r75B7C0FC4261C1FA71, service: , auth: nil
Completed 500 Internal Server Error in 39ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:19:48 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:19:48 UTC +00:00], ["ticket", "LT-1308183588r328CB8455F3C301A47"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183588r328CB8455F3C301A47' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183588r328CB8455F3C301A47, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.1ms)
Completed 200 OK in 123ms (Views: 52.0ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:19:48 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183588r328CB8455F3C301A47", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183588r328CB8455F3C301A47'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183588r328CB8455F3C301A47' LIMIT 1
Login ticket 'LT-1308183588r328CB8455F3C301A47' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:19:48.532286' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:19:48 UTC +00:00], ["ticket", "LT-1308183588r5E6FC575FC89AAECF6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183588r5E6FC575FC89AAECF6' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183588r5E6FC575FC89AAECF6, service: , auth: nil
Completed 500 Internal Server Error in 80ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:20:06 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:20:06 UTC +00:00], ["ticket", "LT-1308183606rE575D1EF784F8B6CB9"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183606rE575D1EF784F8B6CB9' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183606rE575D1EF784F8B6CB9, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.5ms)
Completed 200 OK in 84ms (Views: 51.1ms | ActiveRecord: 19.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:20:06 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183606rE575D1EF784F8B6CB9", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183606rE575D1EF784F8B6CB9'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183606rE575D1EF784F8B6CB9' LIMIT 1
Login ticket 'LT-1308183606rE575D1EF784F8B6CB9' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:20:06.902560' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:20:06 UTC +00:00], ["ticket", "LT-1308183606r70B3EA0A5DD72A784D"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183606r70B3EA0A5DD72A784D' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183606r70B3EA0A5DD72A784D, service: , auth: nil
Completed 500 Internal Server Error in 44ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:20:31 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (129.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:20:31 UTC +00:00], ["ticket", "LT-1308183631rCDFCA78987B4B6A730"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183631rCDFCA78987B4B6A730' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183631rCDFCA78987B4B6A730, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.8ms)
Completed 200 OK in 241ms (Views: 52.4ms | ActiveRecord: 130.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:20:32 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183631rCDFCA78987B4B6A730", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183631rCDFCA78987B4B6A730'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183631rCDFCA78987B4B6A730' LIMIT 1
Login ticket 'LT-1308183631rCDFCA78987B4B6A730' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:20:32.080606' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:20:32 UTC +00:00], ["ticket", "LT-1308183632r5ADEBE3BD945555B80"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183632r5ADEBE3BD945555B80' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183632r5ADEBE3BD945555B80, service: , auth: nil
Completed 500 Internal Server Error in 119ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:21:17 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:21:17 UTC +00:00], ["ticket", "LT-1308183677r136B8159723A37CD3B"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183677r136B8159723A37CD3B' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183677r136B8159723A37CD3B, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.6ms)
Completed 200 OK in 135ms (Views: 52.0ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:21:17 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183677r136B8159723A37CD3B", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183677r136B8159723A37CD3B'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183677r136B8159723A37CD3B' LIMIT 1
Login ticket 'LT-1308183677r136B8159723A37CD3B' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:21:18.016210' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:21:18 UTC +00:00], ["ticket", "LT-1308183678rEEC6925FD2D7B48DEC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183678rEEC6925FD2D7B48DEC' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183678rEEC6925FD2D7B48DEC, service: , auth: nil
Completed 500 Internal Server Error in 101ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:21:40 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (21.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:21:40 UTC +00:00], ["ticket", "LT-1308183700rAC6ADC8F2BCEF4ED96"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183700rAC6ADC8F2BCEF4ED96' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183700rAC6ADC8F2BCEF4ED96, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.7ms)
Completed 200 OK in 91ms (Views: 55.0ms | ActiveRecord: 21.6ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:21:40 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183700rAC6ADC8F2BCEF4ED96", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183700rAC6ADC8F2BCEF4ED96'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183700rAC6ADC8F2BCEF4ED96' LIMIT 1
Login ticket 'LT-1308183700rAC6ADC8F2BCEF4ED96' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:21:40.674182' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:21:40 UTC +00:00], ["ticket", "LT-1308183700r8B37E80E59A8E4B133"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183700r8B37E80E59A8E4B133' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183700r8B37E80E59A8E4B133, service: , auth: nil
Completed 500 Internal Server Error in 49ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:22:43 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:22:43 UTC +00:00], ["ticket", "LT-1308183763rBE0B9D1B5DA1C7BCC7"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183763rBE0B9D1B5DA1C7BCC7' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183763rBE0B9D1B5DA1C7BCC7, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.1ms)
Completed 200 OK in 84ms (Views: 50.8ms | ActiveRecord: 18.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:22:44 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183763rBE0B9D1B5DA1C7BCC7", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183763rBE0B9D1B5DA1C7BCC7'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183763rBE0B9D1B5DA1C7BCC7' LIMIT 1
Login ticket 'LT-1308183763rBE0B9D1B5DA1C7BCC7' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:22:44.176308' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:22:44 UTC +00:00], ["ticket", "LT-1308183764r90E17DFEB48F70F951"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183764r90E17DFEB48F70F951' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183764r90E17DFEB48F70F951, service: , auth: nil
Completed 500 Internal Server Error in 44ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:26:26 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:26:26 UTC +00:00], ["ticket", "LT-1308183986r5BCCDF5437AA79E696"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308183986r5BCCDF5437AA79E696' for client at '127.0.0.1'
Rendering login form with lt: LT-1308183986r5BCCDF5437AA79E696, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.2ms)
Completed 200 OK in 85ms (Views: 51.6ms | ActiveRecord: 18.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:26:26 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308183986r5BCCDF5437AA79E696", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308183986r5BCCDF5437AA79E696'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308183986r5BCCDF5437AA79E696' LIMIT 1
Login ticket 'LT-1308183986r5BCCDF5437AA79E696' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:26:26.551431' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:26:26 UTC +00:00], ["ticket", "LT-1308183986r453A62E2548A368FD0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308183986r453A62E2548A368FD0' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308183986r453A62E2548A368FD0, service: , auth: nil
Completed 500 Internal Server Error in 44ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:27:41 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (56.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:27:41 UTC +00:00], ["ticket", "LT-1308184061r520C60E4E030762C68"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184061r520C60E4E030762C68' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184061r520C60E4E030762C68, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.2ms)
Completed 200 OK in 123ms (Views: 51.5ms | ActiveRecord: 57.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:27:41 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184061r520C60E4E030762C68", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184061r520C60E4E030762C68'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184061r520C60E4E030762C68' LIMIT 1
Login ticket 'LT-1308184061r520C60E4E030762C68' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:27:41.765496' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:27:41 UTC +00:00], ["ticket", "LT-1308184061r6166D13A33C1228684"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184061r6166D13A33C1228684' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184061r6166D13A33C1228684, service: , auth: nil
Completed 500 Internal Server Error in 54ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:28:10 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:28:10 UTC +00:00], ["ticket", "LT-1308184090r46179208E65C1F8364"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184090r46179208E65C1F8364' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184090r46179208E65C1F8364, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (26.6ms)
Completed 200 OK in 125ms (Views: 91.5ms | ActiveRecord: 19.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:28:10 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184090r46179208E65C1F8364", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184090r46179208E65C1F8364'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184090r46179208E65C1F8364' LIMIT 1
Login ticket 'LT-1308184090r46179208E65C1F8364' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:28:10.841982' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:28:10 UTC +00:00], ["ticket", "LT-1308184090r8C96EC2D3471E8751A"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184090r8C96EC2D3471E8751A' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184090r8C96EC2D3471E8751A, service: , auth: nil
Completed 500 Internal Server Error in 52ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:29:04 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (25.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:29:04 UTC +00:00], ["ticket", "LT-1308184144rB601DCBFA723AAB47B"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184144rB601DCBFA723AAB47B' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184144rB601DCBFA723AAB47B, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (14.7ms)
Completed 200 OK in 95ms (Views: 55.1ms | ActiveRecord: 26.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:29:04 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184144rB601DCBFA723AAB47B", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184144rB601DCBFA723AAB47B'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184144rB601DCBFA723AAB47B' LIMIT 1
Login ticket 'LT-1308184144rB601DCBFA723AAB47B' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:29:04.959355' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:29:04 UTC +00:00], ["ticket", "LT-1308184144rBCB60BD1B4E9A7D03C"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184144rBCB60BD1B4E9A7D03C' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184144rBCB60BD1B4E9A7D03C, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
Completed 500 Internal Server Error in 63ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:30:07 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.2ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:30:07 UTC +00:00], ["ticket", "LT-1308184207r1D73EC1ABB288F5264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184207r1D73EC1ABB288F5264' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184207r1D73EC1ABB288F5264, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.5ms)
Completed 200 OK in 88ms (Views: 52.6ms | ActiveRecord: 20.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:30:08 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184207r1D73EC1ABB288F5264", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184207r1D73EC1ABB288F5264'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184207r1D73EC1ABB288F5264' LIMIT 1
Login ticket 'LT-1308184207r1D73EC1ABB288F5264' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:30:08.135719' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:30:08 UTC +00:00], ["ticket", "LT-1308184208r110E45B31775C9C166"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184208r110E45B31775C9C166' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184208r110E45B31775C9C166, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
Completed 500 Internal Server Error in 52ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:30:23 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:30:23 UTC +00:00], ["ticket", "LT-1308184223rFF06ADC7415F8AD191"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184223rFF06ADC7415F8AD191' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184223rFF06ADC7415F8AD191, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.2ms)
Completed 200 OK in 123ms (Views: 51.3ms | ActiveRecord: 19.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:30:24 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184223rFF06ADC7415F8AD191", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184223rFF06ADC7415F8AD191'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184223rFF06ADC7415F8AD191' LIMIT 1
Login ticket 'LT-1308184223rFF06ADC7415F8AD191' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:30:24.172464' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:30:24 UTC +00:00], ["ticket", "LT-1308184224rA25E3C29ADD0F611FD"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184224rA25E3C29ADD0F611FD' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184224rA25E3C29ADD0F611FD, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
Completed 500 Internal Server Error in 92ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:31:13 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:31:13 UTC +00:00], ["ticket", "LT-1308184273r97E467F480B9A44068"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184273r97E467F480B9A44068' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184273r97E467F480B9A44068, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.1ms)
Completed 200 OK in 87ms (Views: 52.6ms | ActiveRecord: 20.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:31:13 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184273r97E467F480B9A44068", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184273r97E467F480B9A44068'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184273r97E467F480B9A44068' LIMIT 1
Login ticket 'LT-1308184273r97E467F480B9A44068' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:31:13.684647' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:31:13 UTC +00:00], ["ticket", "LT-1308184273r58937F5087D12317C6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184273r58937F5087D12317C6' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184273r58937F5087D12317C6, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (27.8ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:31:13 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308184273r1B7E297A295F80A48F"], ["username", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 86ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:32:35 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:32:35 UTC +00:00], ["ticket", "LT-1308184355rED3567DF3F48942DEF"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184355rED3567DF3F48942DEF' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184355rED3567DF3F48942DEF, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.3ms)
Completed 200 OK in 126ms (Views: 53.4ms | ActiveRecord: 20.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:32:35 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184355rED3567DF3F48942DEF", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184355rED3567DF3F48942DEF'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184355rED3567DF3F48942DEF' LIMIT 1
Login ticket 'LT-1308184355rED3567DF3F48942DEF' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:32:35.936113' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:32:35 UTC +00:00], ["ticket", "LT-1308184355rE1A6B8E0963BAD1687"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184355rE1A6B8E0963BAD1687' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184355rE1A6B8E0963BAD1687, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:32:36 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308184356rA6330D5BF078C92744"], ["username", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 97ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:33:05 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:33:05 UTC +00:00], ["ticket", "LT-1308184385r9B758D409DDD29085C"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184385r9B758D409DDD29085C' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184385r9B758D409DDD29085C, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.5ms)
Completed 200 OK in 87ms (Views: 53.0ms | ActiveRecord: 20.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:33:05 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184385r9B758D409DDD29085C", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184385r9B758D409DDD29085C'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184385r9B758D409DDD29085C' LIMIT 1
Login ticket 'LT-1308184385r9B758D409DDD29085C' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:33:05.702931' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:33:05 UTC +00:00], ["ticket", "LT-1308184385r7AD3E03AE4B980A21C"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184385r7AD3E03AE4B980A21C' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184385r7AD3E03AE4B980A21C, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:33:05 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308184385r4D78716A7EB2415FF6"], ["username", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 63ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:33:43 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:33:43 UTC +00:00], ["ticket", "LT-1308184423r4BA95399B552297222"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184423r4BA95399B552297222' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184423r4BA95399B552297222, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.2ms)
Completed 200 OK in 90ms (Views: 51.5ms | ActiveRecord: 20.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:33:43 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184423r4BA95399B552297222", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184423r4BA95399B552297222'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184423r4BA95399B552297222' LIMIT 1
Login ticket 'LT-1308184423r4BA95399B552297222' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:33:43.838870' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:33:43 UTC +00:00], ["ticket", "LT-1308184423r90EEEB0CDAF102BFA2"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184423r90EEEB0CDAF102BFA2' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184423r90EEEB0CDAF102BFA2, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:33:43 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308184423rD154C98A70DDF9B058"], ["username", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 64ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:34:14 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:34:14 UTC +00:00], ["ticket", "LT-1308184454r1EE9C84EC05D501A4A"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184454r1EE9C84EC05D501A4A' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184454r1EE9C84EC05D501A4A, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (14.4ms)
Completed 200 OK in 90ms (Views: 54.9ms | ActiveRecord: 20.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:34:14 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184454r1EE9C84EC05D501A4A", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184454r1EE9C84EC05D501A4A'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184454r1EE9C84EC05D501A4A' LIMIT 1
Login ticket 'LT-1308184454r1EE9C84EC05D501A4A' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:34:14.326688' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:34:14 UTC +00:00], ["ticket", "LT-1308184454r82C57A01393C93A9A6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184454r82C57A01393C93A9A6' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184454r82C57A01393C93A9A6, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:34:14 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308184454rC9D46EA6579E58DDCD"], ["username", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 63ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:39:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:39:38 UTC +00:00], ["ticket", "LT-1308184778rC4AE5D5FD9C098FA48"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184778rC4AE5D5FD9C098FA48' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184778rC4AE5D5FD9C098FA48, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (14.6ms)
Completed 200 OK in 92ms (Views: 58.9ms | ActiveRecord: 19.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:39:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184778rC4AE5D5FD9C098FA48", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184778rC4AE5D5FD9C098FA48'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184778rC4AE5D5FD9C098FA48' LIMIT 1
Login ticket 'LT-1308184778rC4AE5D5FD9C098FA48' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:39:38.408804' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:39:38 UTC +00:00], ["ticket", "LT-1308184778r2235389567D68BC03E"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184778r2235389567D68BC03E' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184778r2235389567D68BC03E, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:39:38 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308184778r139E5942B4D1BBB461"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 66ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:40:06 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:40:07 UTC +00:00], ["ticket", "LT-1308184807r754A1B0872EA7CD421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184807r754A1B0872EA7CD421' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184807r754A1B0872EA7CD421, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.8ms)
Completed 200 OK in 139ms (Views: 63.5ms | ActiveRecord: 21.6ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:40:07 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184807r754A1B0872EA7CD421", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184807r754A1B0872EA7CD421'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184807r754A1B0872EA7CD421' LIMIT 1
Login ticket 'LT-1308184807r754A1B0872EA7CD421' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:40:07.283141' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:40:07 UTC +00:00], ["ticket", "LT-1308184807r825CC69DB2CBA3E5E0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184807r825CC69DB2CBA3E5E0' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184807r825CC69DB2CBA3E5E0, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:40:07 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308184807rF1BF64E266FDFEFFEF"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Ticket granting cookie 'nil' granted to "spec_user"
Successfully authenticated user 'spec_user' at '127.0.0.1'. No service param was given, so we will not redirect.
Completed 500 Internal Server Error in 106ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:40:45 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (21.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:40:45 UTC +00:00], ["ticket", "LT-1308184845r6DC31E2CDD3FD5DCBC"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308184845r6DC31E2CDD3FD5DCBC' for client at '127.0.0.1'
Rendering login form with lt: LT-1308184845r6DC31E2CDD3FD5DCBC, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (17.0ms)
Completed 200 OK in 93ms (Views: 56.6ms | ActiveRecord: 21.6ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:40:45 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308184845r6DC31E2CDD3FD5DCBC", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308184845r6DC31E2CDD3FD5DCBC'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308184845r6DC31E2CDD3FD5DCBC' LIMIT 1
Login ticket 'LT-1308184845r6DC31E2CDD3FD5DCBC' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (423.4ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:40:45.581661' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:40:46 UTC +00:00], ["ticket", "LT-1308184846rCCF5A469D456B7009A"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308184846rCCF5A469D456B7009A' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308184846rCCF5A469D456B7009A, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:40:46 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308184846r8044673A98DCCE9CB6"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Ticket granting cookie 'nil' granted to "spec_user"
Successfully authenticated user 'spec_user' at '127.0.0.1'. No service param was given, so we will not redirect.
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (1.0ms)
Completed 200 OK in 492ms (Views: 1.9ms | ActiveRecord: 425.2ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:45:48 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:45:48 UTC +00:00], ["ticket", "LT-1308185148r66E43E455058DA4FC5"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185148r66E43E455058DA4FC5' for client at '127.0.0.1'
Rendering login form with lt: LT-1308185148r66E43E455058DA4FC5, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.3ms)
Completed 200 OK in 87ms (Views: 53.4ms | ActiveRecord: 19.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:45:48 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185148r66E43E455058DA4FC5", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185148r66E43E455058DA4FC5'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185148r66E43E455058DA4FC5' LIMIT 1
Login ticket 'LT-1308185148r66E43E455058DA4FC5' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:45:48.470120' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:45:48 UTC +00:00], ["ticket", "LT-1308185148r8FFC627585F352C15C"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185148r8FFC627585F352C15C' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185148r8FFC627585F352C15C, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:45:48 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308185148r70F740079093C9E12A"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Ticket granting cookie 'nil' granted to "spec_user"
Successfully authenticated user 'spec_user' at '127.0.0.1'. No service param was given, so we will not redirect.
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (1.1ms)
Completed 200 OK in 64ms (Views: 2.2ms | ActiveRecord: 1.8ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:48:33 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.4ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:48:33 UTC +00:00], ["ticket", "LT-1308185313rBA68A1276EDDB8A7D0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185313rBA68A1276EDDB8A7D0' for client at '127.0.0.1'
Rendering login form with lt: LT-1308185313rBA68A1276EDDB8A7D0, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.5ms)
Completed 200 OK in 87ms (Views: 53.8ms | ActiveRecord: 19.0ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:48:33 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185313rBA68A1276EDDB8A7D0", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185313rBA68A1276EDDB8A7D0'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185313rBA68A1276EDDB8A7D0' LIMIT 1
Login ticket 'LT-1308185313rBA68A1276EDDB8A7D0' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:48:33.546315' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:48:33 UTC +00:00], ["ticket", "LT-1308185313r21C7050C890C4CA39A"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185313r21C7050C890C4CA39A' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185313r21C7050C890C4CA39A, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:48:33 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308185313rF3CAF5862FC29F89E0"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Ticket granting cookie 'nil' granted to "spec_user"
Successfully authenticated user 'spec_user' at '127.0.0.1'. No service param was given, so we will not redirect.
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (1.2ms)
Completed 200 OK in 80ms (Views: 2.1ms | ActiveRecord: 1.9ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:48:46 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:48:46 UTC +00:00], ["ticket", "LT-1308185326r615933C99DB775D837"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185326r615933C99DB775D837' for client at '127.0.0.1'
Rendering login form with lt: LT-1308185326r615933C99DB775D837, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (15.9ms)
Completed 200 OK in 97ms (Views: 62.5ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:48:46 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185326r615933C99DB775D837", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185326r615933C99DB775D837'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185326r615933C99DB775D837' LIMIT 1
Login ticket 'LT-1308185326r615933C99DB775D837' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:48:46.763160' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:48:46 UTC +00:00], ["ticket", "LT-1308185326rC120AB7F25851C21A4"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185326rC120AB7F25851C21A4' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185326rC120AB7F25851C21A4, service: , auth: nil
Credentials for username 'spec_user' successfully validated.
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:48:46 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308185326rF1E483AF3DB274B6EE"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Ticket granting cookie 'nil' granted to "spec_user"
Successfully authenticated user 'spec_user' at '127.0.0.1'. No service param was given, so we will not redirect.
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (1.0ms)
Completed 200 OK in 62ms (Views: 2.2ms | ActiveRecord: 1.8ms)


Started GET "/login" for 127.0.0.1 at 2011-06-16 10:48:46 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:48:46 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:48:46 +1000


Started GET "/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 10:48:46 +1000


Started GET "/logout" for 127.0.0.1 at 2011-06-16 10:48:47 +1000


Started GET "/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:48:47 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:48:47 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:50:22 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (21.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:50:22 UTC +00:00], ["ticket", "LT-1308185422rFA91E531966FF92658"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185422rFA91E531966FF92658' for client at '127.0.0.1'
Rendering login form with lt: LT-1308185422rFA91E531966FF92658, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (16.1ms)
Completed 200 OK in 140ms (Views: 102.1ms | ActiveRecord: 21.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:50:22 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185422rFA91E531966FF92658", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185422rFA91E531966FF92658'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185422rFA91E531966FF92658' LIMIT 1
Login ticket 'LT-1308185422rFA91E531966FF92658' successfully validated
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:50:22.828447' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:50:22 UTC +00:00], ["ticket", "LT-1308185422rD9A4B90113B2530389"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185422rD9A4B90113B2530389' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185422rD9A4B90113B2530389, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:50:22 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308185422rBFBC2B10CABE6B36A3"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (1.0ms)
Completed 200 OK in 108ms (Views: 1.8ms | ActiveRecord: 2.3ms)


Started GET "/login" for 127.0.0.1 at 2011-06-16 10:50:22 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:50:22 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:50:22 +1000


Started GET "/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 10:50:22 +1000


Started GET "/logout" for 127.0.0.1 at 2011-06-16 10:50:22 +1000


Started GET "/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:50:22 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:50:22 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:51:36 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:51:36 UTC +00:00], ["ticket", "LT-1308185496r56ED643F90A9E383B8"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185496r56ED643F90A9E383B8' for client at '127.0.0.1'
Rendering login form with lt: LT-1308185496r56ED643F90A9E383B8, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.2ms)
Completed 200 OK in 124ms (Views: 51.8ms | ActiveRecord: 20.6ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:51:37 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185496r56ED643F90A9E383B8", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185496r56ED643F90A9E383B8'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185496r56ED643F90A9E383B8' LIMIT 1
Login ticket 'LT-1308185496r56ED643F90A9E383B8' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:51:37.070624' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:51:37 UTC +00:00], ["ticket", "LT-1308185497r32836046C7EB78C323"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185497r32836046C7EB78C323' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185497r32836046C7EB78C323, service: , auth: nil
Completed 500 Internal Server Error in 128ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:52:05 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:52:05 UTC +00:00], ["ticket", "LT-1308185525rB5FFCAD9747BB6691F"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185525rB5FFCAD9747BB6691F' for client at '127.0.0.1'
Rendering login form with lt: LT-1308185525rB5FFCAD9747BB6691F, service: , renew: , gateway: false
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/login.html.erb within layouts/application (13.3ms)
Completed 200 OK in 86ms (Views: 52.0ms | ActiveRecord: 20.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:52:05 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185525rB5FFCAD9747BB6691F", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185525rB5FFCAD9747BB6691F'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185525rB5FFCAD9747BB6691F' LIMIT 1
Login ticket 'LT-1308185525rB5FFCAD9747BB6691F' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:52:05.540961' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:52:05 UTC +00:00], ["ticket", "LT-1308185525r4F78013DEA9254BA47"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185525r4F78013DEA9254BA47' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185525r4F78013DEA9254BA47, service: , auth: nil
Completed 500 Internal Server Error in 68ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:54:30 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.4ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:54:30 UTC +00:00], ["ticket", "LT-1308185670rE1316E041A999EF7C1"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185670rE1316E041A999EF7C1' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 84ms (Views: 51.4ms | ActiveRecord: 19.0ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:54:31 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185670rE1316E041A999EF7C1", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185670rE1316E041A999EF7C1'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185670rE1316E041A999EF7C1' LIMIT 1
Login ticket 'LT-1308185670rE1316E041A999EF7C1' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:54:31.069182' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:54:31 UTC +00:00], ["ticket", "LT-1308185671r30FCC18E8B5F98AADF"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185671r30FCC18E8B5F98AADF' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185671r30FCC18E8B5F98AADF, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 46ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:54:55 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:54:56 UTC +00:00], ["ticket", "LT-1308185696r3C8C2A71633780E096"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185696r3C8C2A71633780E096' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 85ms (Views: 52.0ms | ActiveRecord: 19.9ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:54:56 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185696r3C8C2A71633780E096", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185696r3C8C2A71633780E096'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185696r3C8C2A71633780E096' LIMIT 1
Login ticket 'LT-1308185696r3C8C2A71633780E096' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:54:56.278110' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:54:56 UTC +00:00], ["ticket", "LT-1308185696rAA87B1AB758A6AE516"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185696rAA87B1AB758A6AE516' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185696rAA87B1AB758A6AE516, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 45ms (Views: 2.0ms | ActiveRecord: 1.0ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:55:06 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:55:06 UTC +00:00], ["ticket", "LT-1308185706rB67474A444A05F99F2"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185706rB67474A444A05F99F2' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.6ms)
Completed 200 OK in 87ms (Views: 52.2ms | ActiveRecord: 20.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:55:06 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185706rB67474A444A05F99F2", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185706rB67474A444A05F99F2'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185706rB67474A444A05F99F2' LIMIT 1
Login ticket 'LT-1308185706rB67474A444A05F99F2' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:55:06.929809' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:55:06 UTC +00:00], ["ticket", "LT-1308185706r189DD905AFB2E2C01C"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185706r189DD905AFB2E2C01C' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185706r189DD905AFB2E2C01C, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:55:06 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308185706r39B3B38769C2BE89E5"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 80ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:55:06 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:55:07 UTC +00:00], ["ticket", "LT-1308185707rF5CE1EB4F9DD285EE5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185707rF5CE1EB4F9DD285EE5' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 59ms (Views: 2.1ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:55:07 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185707rF5CE1EB4F9DD285EE5", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185707rF5CE1EB4F9DD285EE5'
  [1m[36mCassy::LoginTicket Load (1.1ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185707rF5CE1EB4F9DD285EE5' LIMIT 1[0m
Login ticket 'LT-1308185707rF5CE1EB4F9DD285EE5' successfully validated
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:55:07.060436' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:55:07 UTC +00:00], ["ticket", "LT-1308185707r6E7178319795FA2BED"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185707r6E7178319795FA2BED' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185707r6E7178319795FA2BED, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 15ms (Views: 2.0ms | ActiveRecord: 2.1ms)


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:55:07 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:55:07 +1000


Started GET "/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 10:55:07 +1000


Started GET "/logout" for 127.0.0.1 at 2011-06-16 10:55:07 +1000


Started GET "/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:55:07 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 10:55:07 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:55:40 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (117.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:55:40 UTC +00:00], ["ticket", "LT-1308185740r30927112EB2ABF9378"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185740r30927112EB2ABF9378' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (15.9ms)
Completed 200 OK in 202ms (Views: 68.7ms | ActiveRecord: 118.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:55:41 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185740r30927112EB2ABF9378", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185740r30927112EB2ABF9378'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185740r30927112EB2ABF9378' LIMIT 1
Login ticket 'LT-1308185740r30927112EB2ABF9378' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:55:41.175924' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:55:41 UTC +00:00], ["ticket", "LT-1308185741r47150C7BBD2AD1AC93"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185741r47150C7BBD2AD1AC93' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185741r47150C7BBD2AD1AC93, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:55:41 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308185741r934E41AA6972FB2B48"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 94ms


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 10:58:42 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (21.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:58:42 UTC +00:00], ["ticket", "LT-1308185922rD3012705C6D05B8FFA"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308185922rD3012705C6D05B8FFA' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (15.9ms)
Completed 200 OK in 117ms (Views: 60.3ms | ActiveRecord: 22.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 10:58:43 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308185922rD3012705C6D05B8FFA", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308185922rD3012705C6D05B8FFA'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308185922rD3012705C6D05B8FFA' LIMIT 1
Login ticket 'LT-1308185922rD3012705C6D05B8FFA' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 00:58:43.143666' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 00:58:43 UTC +00:00], ["ticket", "LT-1308185923rD540A9C830B922A4BE"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308185923rD540A9C830B922A4BE' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308185923rD540A9C830B922A4BE, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 00:58:43 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308185923r1C3867B9609BF3C65A"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 67ms (Views: 2.3ms | ActiveRecord: 1.7ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:01:58 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:01:58 UTC +00:00], ["ticket", "LT-1308186118r6150F7E582737C1A1F"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186118r6150F7E582737C1A1F' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (15.4ms)
Completed 200 OK in 95ms (Views: 57.2ms | ActiveRecord: 20.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:01:58 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186118r6150F7E582737C1A1F", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308186118r6150F7E582737C1A1F'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186118r6150F7E582737C1A1F' LIMIT 1
Login ticket 'LT-1308186118r6150F7E582737C1A1F' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:01:58.730215' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:01:58 UTC +00:00], ["ticket", "LT-1308186118rF7211B6C674364F714"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186118rF7211B6C674364F714' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186118rF7211B6C674364F714, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:01:58 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186118r7955CB87F85F47B13D"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 67ms (Views: 2.0ms | ActiveRecord: 1.7ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:01:58 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308186118r7955CB87F85F47B13D'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186118r7955CB87F85F47B13D' LIMIT 1
Invalid ticket granting ticket 'TGC-1308186118r7955CB87F85F47B13D' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:01:58 UTC +00:00], ["ticket", "LT-1308186118r3AE9084CBAE41C42AA"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186118r3AE9084CBAE41C42AA' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 57ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:01:58 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186118r3AE9084CBAE41C42AA", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308186118r3AE9084CBAE41C42AA'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186118r3AE9084CBAE41C42AA' LIMIT 1
Login ticket 'LT-1308186118r3AE9084CBAE41C42AA' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:01:58.846286' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:01:58 UTC +00:00], ["ticket", "LT-1308186118r3F106335C52774D5DF"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186118r3F106335C52774D5DF' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186118r3F106335C52774D5DF, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 10ms (Views: 1.8ms | ActiveRecord: 1.0ms)


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:01:58 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:01:58 +1000


Started GET "/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:01:58 +1000


Started GET "/logout" for 127.0.0.1 at 2011-06-16 11:01:58 +1000


Started GET "/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:01:58 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:01:58 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:03:28 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:03:28 UTC +00:00], ["ticket", "LT-1308186208r5290666235EB091D70"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186208r5290666235EB091D70' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 86ms (Views: 51.7ms | ActiveRecord: 19.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:03:28 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186208r5290666235EB091D70", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308186208r5290666235EB091D70'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186208r5290666235EB091D70' LIMIT 1
Login ticket 'LT-1308186208r5290666235EB091D70' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:03:28.356180' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:03:28 UTC +00:00], ["ticket", "LT-1308186208r4F85638B3EDADDE13C"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186208r4F85638B3EDADDE13C' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186208r4F85638B3EDADDE13C, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:03:28 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186208r91D51F0FF36AC9FBB3"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 66ms (Views: 1.9ms | ActiveRecord: 1.7ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:03:28 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308186208r91D51F0FF36AC9FBB3'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186208r91D51F0FF36AC9FBB3' LIMIT 1
Invalid ticket granting ticket 'TGC-1308186208r91D51F0FF36AC9FBB3' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:03:28 UTC +00:00], ["ticket", "LT-1308186208r15D8779C4FF48E8F96"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186208r15D8779C4FF48E8F96' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 48ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:03:28 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186208r15D8779C4FF48E8F96", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308186208r15D8779C4FF48E8F96'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186208r15D8779C4FF48E8F96' LIMIT 1
Login ticket 'LT-1308186208r15D8779C4FF48E8F96' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:03:28.455366' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:03:28 UTC +00:00], ["ticket", "LT-1308186208r5E9A1029CB8295C7C4"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186208r5E9A1029CB8295C7C4' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186208r5E9A1029CB8295C7C4, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 10ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:03:28 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308186208r91D51F0FF36AC9FBB3'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186208r91D51F0FF36AC9FBB3' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308186208r91D51F0FF36AC9FBB3' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:03:28 UTC +00:00], ["ticket", "LT-1308186208r78146FB9C7CFD739E9"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186208r78146FB9C7CFD739E9' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:03:28 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308186208r91D51F0FF36AC9FBB3'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186208r91D51F0FF36AC9FBB3' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308186208r91D51F0FF36AC9FBB3' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:03:28 UTC +00:00], ["ticket", "LT-1308186208rF119558E5033457C53"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186208rF119558E5033457C53' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 10ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:03:28 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308186208r91D51F0FF36AC9FBB3'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186208r91D51F0FF36AC9FBB3' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308186208r91D51F0FF36AC9FBB3' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:03:28 UTC +00:00], ["ticket", "LT-1308186208r2E6816C1E5FF6F39BF"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186208r2E6816C1E5FF6F39BF' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 47ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 11:03:28 +1000


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:03:28 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:03:28 +1000


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:03:47 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:03:47 UTC +00:00], ["ticket", "LT-1308186227rA6B72FDCAD1A427D89"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186227rA6B72FDCAD1A427D89' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 126ms (Views: 52.4ms | ActiveRecord: 20.1ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:05:39 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:05:39 UTC +00:00], ["ticket", "LT-1308186339rE0E6503E5DA7904CCF"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186339rE0E6503E5DA7904CCF' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 86ms (Views: 52.0ms | ActiveRecord: 19.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:05:39 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186339rE0E6503E5DA7904CCF", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308186339rE0E6503E5DA7904CCF'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186339rE0E6503E5DA7904CCF' LIMIT 1
Login ticket 'LT-1308186339rE0E6503E5DA7904CCF' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:05:39.766148' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:05:39 UTC +00:00], ["ticket", "LT-1308186339r91989E980C91A5AC1E"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186339r91989E980C91A5AC1E' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186339r91989E980C91A5AC1E, service: http://my.app.test, auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:05:39 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186339r2D514101193F727900"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:05:39 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308186339rE2E7D39A51C5393272"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated service ticket 'ST-1308186339rE2E7D39A51C5393272' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Completed 500 Internal Server Error in 122ms


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:06:17 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:06:17 UTC +00:00], ["ticket", "LT-1308186377r7D4CDF6C5F2C8559D5"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186377r7D4CDF6C5F2C8559D5' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.5ms)
Completed 200 OK in 87ms (Views: 52.4ms | ActiveRecord: 19.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:06:17 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186377r7D4CDF6C5F2C8559D5", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308186377r7D4CDF6C5F2C8559D5'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186377r7D4CDF6C5F2C8559D5' LIMIT 1
Login ticket 'LT-1308186377r7D4CDF6C5F2C8559D5' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:06:17.983552' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:06:17 UTC +00:00], ["ticket", "LT-1308186377rD850FDF8519EF7DDD2"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186377rD850FDF8519EF7DDD2' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186377rD850FDF8519EF7DDD2, service: http://my.app.test, auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:06:18 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186378r99B56F3EA34D049487"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:06:18 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308186378rD62EAB34C3B4284150"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated service ticket 'ST-1308186378rD62EAB34C3B4284150' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Completed 500 Internal Server Error in 121ms


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:06:48 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.4ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:06:48 UTC +00:00], ["ticket", "LT-1308186408rF64FF03239BD789EF3"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186408rF64FF03239BD789EF3' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 126ms (Views: 51.5ms | ActiveRecord: 20.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:06:48 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186408rF64FF03239BD789EF3", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308186408rF64FF03239BD789EF3'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186408rF64FF03239BD789EF3' LIMIT 1
Login ticket 'LT-1308186408rF64FF03239BD789EF3' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:06:48.952108' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:06:48 UTC +00:00], ["ticket", "LT-1308186408r8B0BC949A4BF2D22F0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186408r8B0BC949A4BF2D22F0' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186408r8B0BC949A4BF2D22F0, service: http://my.app.test, auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:06:49 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186409r4E1534227DDCC6524C"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:06:49 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308186409rA93BCA273485E28F35"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated service ticket 'ST-1308186409rA93BCA273485E28F35' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to 
Completed 500 Internal Server Error in 113ms


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:07:08 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.4ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:07:08 UTC +00:00], ["ticket", "LT-1308186428r94B77258CDD26741EF"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186428r94B77258CDD26741EF' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 85ms (Views: 51.0ms | ActiveRecord: 20.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:07:08 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186428r94B77258CDD26741EF", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308186428r94B77258CDD26741EF'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186428r94B77258CDD26741EF' LIMIT 1
Login ticket 'LT-1308186428r94B77258CDD26741EF' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:07:08.837016' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:07:08 UTC +00:00], ["ticket", "LT-1308186428r29DA35FAA78DFE0F89"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186428r29DA35FAA78DFE0F89' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186428r29DA35FAA78DFE0F89, service: http://my.app.test, auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:07:08 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186428rD04A541C390D25AC7F"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:07:08 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308186428rA7B10C7B145C2DEB21"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated service ticket 'ST-1308186428rA7B10C7B145C2DEB21' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308186428rA7B10C7B145C2DEB21
Completed 303 See Other in 115ms


Started GET "/?ticket=ST-1308186428rA7B10C7B145C2DEB21" for 127.0.0.1 at 2011-06-16 11:07:08 +1000


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:13:42 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:42 UTC +00:00], ["ticket", "LT-1308186822r29D526ADBC9C991112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186822r29D526ADBC9C991112' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (15.2ms)
Completed 200 OK in 93ms (Views: 56.4ms | ActiveRecord: 21.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:13:42 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186822r29D526ADBC9C991112", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308186822r29D526ADBC9C991112'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186822r29D526ADBC9C991112' LIMIT 1
Login ticket 'LT-1308186822r29D526ADBC9C991112' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:13:42.517806' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:42 UTC +00:00], ["ticket", "LT-1308186822rCDDF00933D0A4F4ACC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186822rCDDF00933D0A4F4ACC' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186822rCDDF00933D0A4F4ACC, service: http://my.app.test, auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:13:42 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186822rD0872CD8A2346A13A0"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:42 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308186822r38C14CD046C05B6316"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Generated service ticket 'ST-1308186822r38C14CD046C05B6316' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308186822r38C14CD046C05B6316
Completed 303 See Other in 123ms


Started GET "/?ticket=ST-1308186822r38C14CD046C05B6316" for 127.0.0.1 at 2011-06-16 11:13:42 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308186822r38C14CD046C05B6316"}
Rendered text template (0.0ms)
Completed 200 OK in 37ms (Views: 37.0ms | ActiveRecord: 0.0ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:13:54 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (21.3ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["ticket", "LT-1308186834rD50DF941356F4C6274"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186834rD50DF941356F4C6274' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (14.8ms)
Completed 200 OK in 135ms (Views: 55.8ms | ActiveRecord: 22.0ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:13:54 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186834rD50DF941356F4C6274", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308186834rD50DF941356F4C6274'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186834rD50DF941356F4C6274' LIMIT 1
Login ticket 'LT-1308186834rD50DF941356F4C6274' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:13:54.707378' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["ticket", "LT-1308186834r65C81FEC7884615A7E"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186834r65C81FEC7884615A7E' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186834r65C81FEC7884615A7E, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186834rD35B4BA8808B6B7D5B"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 103ms (Views: 1.9ms | ActiveRecord: 1.8ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:13:54 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308186834rD35B4BA8808B6B7D5B'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186834rD35B4BA8808B6B7D5B' LIMIT 1
Invalid ticket granting ticket 'TGC-1308186834rD35B4BA8808B6B7D5B' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["ticket", "LT-1308186834r49DF71986DE1CA405F"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186834r49DF71986DE1CA405F' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 10ms (Views: 2.2ms | ActiveRecord: 1.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:13:54 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186834r49DF71986DE1CA405F", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308186834r49DF71986DE1CA405F'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186834r49DF71986DE1CA405F' LIMIT 1
Login ticket 'LT-1308186834r49DF71986DE1CA405F' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:13:54.812018' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["ticket", "LT-1308186834r860AD13756A2E1E04D"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186834r860AD13756A2E1E04D' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186834r860AD13756A2E1E04D, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (40.5ms)
Completed 401 Unauthorized in 49ms (Views: 41.5ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:13:54 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308186834rD35B4BA8808B6B7D5B'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186834rD35B4BA8808B6B7D5B' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308186834rD35B4BA8808B6B7D5B' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["ticket", "LT-1308186834rE63E6BEC12B69A3046"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186834rE63E6BEC12B69A3046' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:13:54 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186834rE63E6BEC12B69A3046", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308186834rE63E6BEC12B69A3046'
  [1m[36mCassy::LoginTicket Load (0.2ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186834rE63E6BEC12B69A3046' LIMIT 1[0m
Login ticket 'LT-1308186834rE63E6BEC12B69A3046' successfully validated
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:13:54.884631' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["ticket", "LT-1308186834r864771C26068B546B7"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186834r864771C26068B546B7' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186834r864771C26068B546B7, service: http://my.app.test, auth: nil
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308186834rE1FB2422C4AB33D446"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308186834r2663B67E5285F00A6E"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated service ticket 'ST-1308186834r2663B67E5285F00A6E' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308186834r2663B67E5285F00A6E
Completed 303 See Other in 84ms


Started GET "/?ticket=ST-1308186834r2663B67E5285F00A6E" for 127.0.0.1 at 2011-06-16 11:13:54 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308186834r2663B67E5285F00A6E"}
Rendered text template (0.0ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:13:54 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308186834rE1FB2422C4AB33D446'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186834rE1FB2422C4AB33D446' LIMIT 1
Invalid ticket granting ticket 'TGC-1308186834rE1FB2422C4AB33D446' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:54 UTC +00:00], ["ticket", "LT-1308186834rEFC7BBF62D56090090"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308186834rEFC7BBF62D56090090' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 1.5ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:13:55 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308186834rEFC7BBF62D56090090", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308186834rEFC7BBF62D56090090'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308186834rEFC7BBF62D56090090' LIMIT 1
Login ticket 'LT-1308186834rEFC7BBF62D56090090' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:13:55.011046' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:55 UTC +00:00], ["ticket", "LT-1308186835r388A7FB9A92C1B4A84"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186835r388A7FB9A92C1B4A84' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308186835r388A7FB9A92C1B4A84, service: http://my.app.test, auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 22ms (Views: 2.4ms | ActiveRecord: 1.8ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:13:55 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308186834rE1FB2422C4AB33D446'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308186834rE1FB2422C4AB33D446' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308186834rE1FB2422C4AB33D446' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:13:55 UTC +00:00], ["ticket", "LT-1308186835r23492717A98FF08C97"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308186835r23492717A98FF08C97' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 16ms (Views: 2.1ms | ActiveRecord: 1.9ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 11:13:55 +1000


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:13:55 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:13:55 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178rF9D7FB7779CFCCB2B3"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187178rF9D7FB7779CFCCB2B3' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (15.6ms)
Completed 200 OK in 94ms (Views: 57.8ms | ActiveRecord: 21.6ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187178rF9D7FB7779CFCCB2B3", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308187178rF9D7FB7779CFCCB2B3'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187178rF9D7FB7779CFCCB2B3' LIMIT 1
Login ticket 'LT-1308187178rF9D7FB7779CFCCB2B3' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:19:38.572866' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178rE542027E5F73FF3EB4"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187178rE542027E5F73FF3EB4' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187178rE542027E5F73FF3EB4, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308187178rD331A70F5AE03EFDBF"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 61ms (Views: 2.2ms | ActiveRecord: 1.7ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308187178rD331A70F5AE03EFDBF'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187178rD331A70F5AE03EFDBF' LIMIT 1
Invalid ticket granting ticket 'TGC-1308187178rD331A70F5AE03EFDBF' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178r6205F7559E16238678"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187178r6205F7559E16238678' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187178r6205F7559E16238678", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308187178r6205F7559E16238678'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187178r6205F7559E16238678' LIMIT 1
Login ticket 'LT-1308187178r6205F7559E16238678' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:19:38.675319' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178r46B2E6F5B091C58E10"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187178r46B2E6F5B091C58E10' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187178r46B2E6F5B091C58E10, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 10ms (Views: 1.9ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308187178rD331A70F5AE03EFDBF'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187178rD331A70F5AE03EFDBF' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308187178rD331A70F5AE03EFDBF' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178r44F51CDAAC10BA77F5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187178r44F51CDAAC10BA77F5' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 10ms (Views: 2.2ms | ActiveRecord: 1.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187178r44F51CDAAC10BA77F5", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308187178r44F51CDAAC10BA77F5'
  [1m[36mCassy::LoginTicket Load (0.1ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187178r44F51CDAAC10BA77F5' LIMIT 1[0m
Login ticket 'LT-1308187178r44F51CDAAC10BA77F5' successfully validated
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:19:38.710350' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178r16CACC3FA210A3994A"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187178r16CACC3FA210A3994A' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187178r16CACC3FA210A3994A, service: http://my.app.test, auth: nil
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308187178r59AC54092964315BE8"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308187178r6A8EC6996AFD1D1CD7"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated service ticket 'ST-1308187178r6A8EC6996AFD1D1CD7' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308187178r6A8EC6996AFD1D1CD7
Completed 303 See Other in 73ms


Started GET "/?ticket=ST-1308187178r6A8EC6996AFD1D1CD7" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308187178r6A8EC6996AFD1D1CD7"}
Rendered text template (0.0ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308187178r59AC54092964315BE8'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187178r59AC54092964315BE8' LIMIT 1
Invalid ticket granting ticket 'TGC-1308187178r59AC54092964315BE8' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178rE37C45BD5DC050CED8"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187178rE37C45BD5DC050CED8' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 2.0ms | ActiveRecord: 1.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187178rE37C45BD5DC050CED8", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308187178rE37C45BD5DC050CED8'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187178rE37C45BD5DC050CED8' LIMIT 1
Login ticket 'LT-1308187178rE37C45BD5DC050CED8' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:19:38.817268' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178rF2BFBFD3E3225EA3ED"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187178rF2BFBFD3E3225EA3ED' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187178rF2BFBFD3E3225EA3ED, service: http://my.app.test, auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 51ms (Views: 1.9ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:19:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308187178r59AC54092964315BE8'
  [1m[36mCassy::TicketGrantingTicket Load (0.4ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187178r59AC54092964315BE8' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308187178r59AC54092964315BE8' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:19:38 UTC +00:00], ["ticket", "LT-1308187178rEFAC943347B30F3FFA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187178rEFAC943347B30F3FFA' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 1.3ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 11:19:38 +1000


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:19:38 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:19:38 +1000


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:24:03 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.4ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:24:04 UTC +00:00], ["ticket", "LT-1308187444r2A73E511D72A6C853A"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187444r2A73E511D72A6C853A' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 88ms (Views: 53.0ms | ActiveRecord: 20.0ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:24:41 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:24:41 UTC +00:00], ["ticket", "LT-1308187481r6698AFE179738FF162"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187481r6698AFE179738FF162' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (51.9ms)
Completed 200 OK in 127ms (Views: 93.3ms | ActiveRecord: 19.5ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:25:56 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.7ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:25:56 UTC +00:00], ["ticket", "LT-1308187556r7C13F6306A52CB346E"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187556r7C13F6306A52CB346E' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.8ms)
Completed 200 OK in 126ms (Views: 53.5ms | ActiveRecord: 20.4ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579r792C471F5554C8F020"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187579r792C471F5554C8F020' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.4ms)
Completed 200 OK in 91ms (Views: 56.3ms | ActiveRecord: 20.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187579r792C471F5554C8F020", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308187579r792C471F5554C8F020'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187579r792C471F5554C8F020' LIMIT 1
Login ticket 'LT-1308187579r792C471F5554C8F020' successfully validated
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:26:19.428285' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579r9BBD284EF7CC29A7D5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187579r9BBD284EF7CC29A7D5' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187579r9BBD284EF7CC29A7D5, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308187579r706BFB0B5BECC42E63"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 59ms (Views: 1.9ms | ActiveRecord: 1.7ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308187579r706BFB0B5BECC42E63'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187579r706BFB0B5BECC42E63' LIMIT 1
Invalid ticket granting ticket 'TGC-1308187579r706BFB0B5BECC42E63' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579r701940818836E1A041"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187579r701940818836E1A041' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187579r701940818836E1A041", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308187579r701940818836E1A041'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187579r701940818836E1A041' LIMIT 1
Login ticket 'LT-1308187579r701940818836E1A041' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:26:19.528217' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579r8FA1290E62EEB5E75A"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187579r8FA1290E62EEB5E75A' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187579r8FA1290E62EEB5E75A, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 10ms (Views: 1.7ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308187579r706BFB0B5BECC42E63'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187579r706BFB0B5BECC42E63' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308187579r706BFB0B5BECC42E63' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579r1ECCCE46B4A2032279"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187579r1ECCCE46B4A2032279' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 1.8ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187579r1ECCCE46B4A2032279", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308187579r1ECCCE46B4A2032279'
  [1m[36mCassy::LoginTicket Load (0.1ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187579r1ECCCE46B4A2032279' LIMIT 1[0m
Login ticket 'LT-1308187579r1ECCCE46B4A2032279' successfully validated
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:26:19.566112' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579r25172022E160A33E13"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187579r25172022E160A33E13' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187579r25172022E160A33E13, service: http://my.app.test, auth: nil
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308187579rC562E3FD4931C5A725"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308187579r418FF93948AD894EF9"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated service ticket 'ST-1308187579r418FF93948AD894EF9' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308187579r418FF93948AD894EF9
Completed 303 See Other in 72ms


Started GET "/?ticket=ST-1308187579r418FF93948AD894EF9" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308187579r418FF93948AD894EF9"}
Rendered text template (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308187579rC562E3FD4931C5A725'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187579rC562E3FD4931C5A725' LIMIT 1
Invalid ticket granting ticket 'TGC-1308187579rC562E3FD4931C5A725' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579r38E19DDCF8CB89BF25"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187579r38E19DDCF8CB89BF25' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 1.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187579r38E19DDCF8CB89BF25", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308187579r38E19DDCF8CB89BF25'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187579r38E19DDCF8CB89BF25' LIMIT 1
Login ticket 'LT-1308187579r38E19DDCF8CB89BF25' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:26:19.671234' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579r2854DF5BB77D9B28E5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187579r2854DF5BB77D9B28E5' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187579r2854DF5BB77D9B28E5, service: http://my.app.test, auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 64ms (Views: 1.8ms | ActiveRecord: 1.2ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:26:19 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308187579rC562E3FD4931C5A725'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187579rC562E3FD4931C5A725' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308187579rC562E3FD4931C5A725' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:26:19 UTC +00:00], ["ticket", "LT-1308187579rB368D7BBAE0242D796"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187579rB368D7BBAE0242D796' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 1.9ms | ActiveRecord: 1.2ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 11:26:19 +1000


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:26:19 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:26:19 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691rE5285E87D62E394758"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187691rE5285E87D62E394758' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 124ms (Views: 52.2ms | ActiveRecord: 19.7ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187691rE5285E87D62E394758", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308187691rE5285E87D62E394758'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187691rE5285E87D62E394758' LIMIT 1
Login ticket 'LT-1308187691rE5285E87D62E394758' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:28:11.335030' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691rBCFFF57EEA42126DF3"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187691rBCFFF57EEA42126DF3' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187691rBCFFF57EEA42126DF3, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308187691r3B2B749E175BEB9B42"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 97ms (Views: 2.0ms | ActiveRecord: 1.7ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308187691r3B2B749E175BEB9B42'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187691r3B2B749E175BEB9B42' LIMIT 1
Invalid ticket granting ticket 'TGC-1308187691r3B2B749E175BEB9B42' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691r80CF128E13F3589EBC"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187691r80CF128E13F3589EBC' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187691r80CF128E13F3589EBC", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308187691r80CF128E13F3589EBC'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187691r80CF128E13F3589EBC' LIMIT 1
Login ticket 'LT-1308187691r80CF128E13F3589EBC' successfully validated
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:28:11.432657' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691rA2084D12F91EFD5231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187691rA2084D12F91EFD5231' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187691rA2084D12F91EFD5231, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 52ms (Views: 1.7ms | ActiveRecord: 1.3ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308187691r3B2B749E175BEB9B42'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187691r3B2B749E175BEB9B42' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308187691r3B2B749E175BEB9B42' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691rBF087E686F7C4339F5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187691rBF087E686F7C4339F5' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187691rBF087E686F7C4339F5", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308187691rBF087E686F7C4339F5'
  [1m[36mCassy::LoginTicket Load (0.1ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187691rBF087E686F7C4339F5' LIMIT 1[0m
Login ticket 'LT-1308187691rBF087E686F7C4339F5' successfully validated
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:28:11.506282' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691r81FF154DB4C9582578"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187691r81FF154DB4C9582578' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187691r81FF154DB4C9582578, service: http://my.app.test, auth: nil
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308187691r103994E0697635D846"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308187691r3105E95211A91F4FDF"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated service ticket 'ST-1308187691r3105E95211A91F4FDF' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308187691r3105E95211A91F4FDF
Completed 303 See Other in 75ms


Started GET "/?ticket=ST-1308187691r3105E95211A91F4FDF" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308187691r3105E95211A91F4FDF"}
Rendered text template (0.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308187691r103994E0697635D846'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187691r103994E0697635D846' LIMIT 1
Invalid ticket granting ticket 'TGC-1308187691r103994E0697635D846' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691r2770842EC121DB8721"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308187691r2770842EC121DB8721' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308187691r2770842EC121DB8721", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308187691r2770842EC121DB8721'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308187691r2770842EC121DB8721' LIMIT 1
Login ticket 'LT-1308187691r2770842EC121DB8721' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 01:28:11.614947' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691rC9CE1A732E6B3A5B61"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187691rC9CE1A732E6B3A5B61' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308187691rC9CE1A732E6B3A5B61, service: http://my.app.test, auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 10ms (Views: 1.8ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 11:28:11 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308187691r103994E0697635D846'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308187691r103994E0697635D846' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308187691r103994E0697635D846' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 01:28:11 UTC +00:00], ["ticket", "LT-1308187691rE5E1F73FBB010356B9"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308187691rE5E1F73FBB010356B9' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 9ms (Views: 2.0ms | ActiveRecord: 1.2ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 11:28:11 +1000


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:28:11 +1000


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 11:28:11 +1000


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 12:12:11 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (19.4ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:11 UTC +00:00], ["ticket", "LT-1308190331r9DDA9244B1FBC733C7"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190331r9DDA9244B1FBC733C7' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.3ms)
Completed 200 OK in 173ms (Views: 76.7ms | ActiveRecord: 20.3ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 12:12:37 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:37 UTC +00:00], ["ticket", "LT-1308190357r8FB6AC623E3EC726E9"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190357r8FB6AC623E3EC726E9' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (15.8ms)
Completed 200 OK in 88ms (Views: 54.9ms | ActiveRecord: 19.6ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:12:37 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190357r8FB6AC623E3EC726E9", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308190357r8FB6AC623E3EC726E9'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190357r8FB6AC623E3EC726E9' LIMIT 1
Login ticket 'LT-1308190357r8FB6AC623E3EC726E9' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:12:37.929067' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:37 UTC +00:00], ["ticket", "LT-1308190357rAF58A216F2B0F03BF0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190357rAF58A216F2B0F03BF0' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190357rAF58A216F2B0F03BF0, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:12:37 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190357r34C53F7CA6EF8676B4"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 60ms (Views: 2.1ms | ActiveRecord: 1.7ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308190357r34C53F7CA6EF8676B4'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190357r34C53F7CA6EF8676B4' LIMIT 1
Invalid ticket granting ticket 'TGC-1308190357r34C53F7CA6EF8676B4' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358r8140D4811DCF2CF25A"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190358r8140D4811DCF2CF25A' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190358r8140D4811DCF2CF25A", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308190358r8140D4811DCF2CF25A'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190358r8140D4811DCF2CF25A' LIMIT 1
Login ticket 'LT-1308190358r8140D4811DCF2CF25A' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:12:38.029818' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358r7AEC9E72EFA03328B7"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190358r7AEC9E72EFA03328B7' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190358r7AEC9E72EFA03328B7, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 10ms (Views: 1.8ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308190357r34C53F7CA6EF8676B4'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190357r34C53F7CA6EF8676B4' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308190357r34C53F7CA6EF8676B4' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358rE7E8E1BFC51A1BEFFE"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190358rE7E8E1BFC51A1BEFFE' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 1.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190358rE7E8E1BFC51A1BEFFE", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190358rE7E8E1BFC51A1BEFFE'
  [1m[36mCassy::LoginTicket Load (0.1ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190358rE7E8E1BFC51A1BEFFE' LIMIT 1[0m
Login ticket 'LT-1308190358rE7E8E1BFC51A1BEFFE' successfully validated
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:12:38.063667' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358rA25DEA37A488692FDD"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190358rA25DEA37A488692FDD' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190358rA25DEA37A488692FDD, service: http://my.app.test, auth: nil
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190358rFAA0264E968494DBEB"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308190358r1C0DB0FA2EC12A0AB3"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated service ticket 'ST-1308190358r1C0DB0FA2EC12A0AB3' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308190358r1C0DB0FA2EC12A0AB3
Completed 303 See Other in 70ms


Started GET "/?ticket=ST-1308190358r1C0DB0FA2EC12A0AB3" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308190358r1C0DB0FA2EC12A0AB3"}
Rendered text template (0.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308190358rFAA0264E968494DBEB'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190358rFAA0264E968494DBEB' LIMIT 1
Invalid ticket granting ticket 'TGC-1308190358rFAA0264E968494DBEB' (no matching ticket found in the database).
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358r1EFCCA49EFFC569D37"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190358r1EFCCA49EFFC569D37' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 1.8ms | ActiveRecord: 1.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190358r1EFCCA49EFFC569D37", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190358r1EFCCA49EFFC569D37'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190358r1EFCCA49EFFC569D37' LIMIT 1
Login ticket 'LT-1308190358r1EFCCA49EFFC569D37' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:12:38.166689' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358r1E10A10B40C10ED0C6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190358r1E10A10B40C10ED0C6' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190358r1E10A10B40C10ED0C6, service: http://my.app.test, auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 50ms (Views: 1.7ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308190358rFAA0264E968494DBEB'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190358rFAA0264E968494DBEB' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308190358rFAA0264E968494DBEB' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358r88DC2F46E118DCFDEA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190358r88DC2F46E118DCFDEA' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  [1m[36mCassy::TicketGrantingTicket Load (0.3ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190358rFAA0264E968494DBEB' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358r4A1CC4D674417B28B1"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190358r4A1CC4D674417B28B1' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 141ms (Views: 15.8ms | ActiveRecord: 3.1ms)


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:12:38 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  Parameters: {"gateway"=>"true", "service"=>"http://my.app.test"}
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (10.0ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:12:38 UTC +00:00], ["ticket", "LT-1308190358r3F166B9612C184EE71"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190358r3F166B9612C184EE71' for client at '127.0.0.1'
Redirected to 
Completed 500 Internal Server Error in 151ms


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:12:38 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:01 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (51.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382rDCB83BD23310A216D9"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190382rDCB83BD23310A216D9' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.4ms)
Completed 200 OK in 140ms (Views: 74.0ms | ActiveRecord: 52.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190382rDCB83BD23310A216D9", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308190382rDCB83BD23310A216D9'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190382rDCB83BD23310A216D9' LIMIT 1
Login ticket 'LT-1308190382rDCB83BD23310A216D9' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:13:02.346958' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382rCBD5CC0BCBF37146CB"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190382rCBD5CC0BCBF37146CB' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190382rCBD5CC0BCBF37146CB, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190382r22DEF5DDAE26AB5556"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 61ms (Views: 1.9ms | ActiveRecord: 1.6ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308190382r22DEF5DDAE26AB5556'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190382r22DEF5DDAE26AB5556' LIMIT 1
Invalid ticket granting ticket 'TGC-1308190382r22DEF5DDAE26AB5556' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382r676EA5033FA4C7124F"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190382r676EA5033FA4C7124F' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 9ms (Views: 2.1ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190382r676EA5033FA4C7124F", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308190382r676EA5033FA4C7124F'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190382r676EA5033FA4C7124F' LIMIT 1
Login ticket 'LT-1308190382r676EA5033FA4C7124F' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:13:02.448695' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382rB9ECAEDDEA15F55DFF"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190382rB9ECAEDDEA15F55DFF' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190382rB9ECAEDDEA15F55DFF, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 10ms (Views: 1.9ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308190382r22DEF5DDAE26AB5556'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190382r22DEF5DDAE26AB5556' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308190382r22DEF5DDAE26AB5556' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382r895B7AB86067240D1A"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190382r895B7AB86067240D1A' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 9ms (Views: 2.1ms | ActiveRecord: 1.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190382r895B7AB86067240D1A", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190382r895B7AB86067240D1A'
  [1m[36mCassy::LoginTicket Load (0.3ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190382r895B7AB86067240D1A' LIMIT 1[0m
Login ticket 'LT-1308190382r895B7AB86067240D1A' successfully validated
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:13:02.482042' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382rED4F43873E41380D30"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190382rED4F43873E41380D30' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190382rED4F43873E41380D30, service: http://my.app.test, auth: nil
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190382rF31EBDB739D9C678EE"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308190382rB1ABA3C1519127FDE7"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated service ticket 'ST-1308190382rB1ABA3C1519127FDE7' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308190382rB1ABA3C1519127FDE7
Completed 303 See Other in 74ms


Started GET "/?ticket=ST-1308190382rB1ABA3C1519127FDE7" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308190382rB1ABA3C1519127FDE7"}
Rendered text template (0.0ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308190382rF31EBDB739D9C678EE'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190382rF31EBDB739D9C678EE' LIMIT 1
Invalid ticket granting ticket 'TGC-1308190382rF31EBDB739D9C678EE' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382r1AD938A3D74DCA0F82"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190382r1AD938A3D74DCA0F82' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 10ms (Views: 2.3ms | ActiveRecord: 1.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190382r1AD938A3D74DCA0F82", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190382r1AD938A3D74DCA0F82'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190382r1AD938A3D74DCA0F82' LIMIT 1
Login ticket 'LT-1308190382r1AD938A3D74DCA0F82' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:13:02.619825' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382r3813CD8336CD857F32"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190382r3813CD8336CD857F32' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190382r3813CD8336CD857F32, service: http://my.app.test, auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 54ms (Views: 1.8ms | ActiveRecord: 1.1ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308190382rF31EBDB739D9C678EE'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190382rF31EBDB739D9C678EE' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308190382rF31EBDB739D9C678EE' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382r7F63AB6E5E134EDE8B"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190382r7F63AB6E5E134EDE8B' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 2.3ms | ActiveRecord: 1.2ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190382rF31EBDB739D9C678EE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382r2432CB306465C9906F"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190382r2432CB306465C9906F' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 1.1ms)


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:13:02 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  Parameters: {"gateway"=>"true", "service"=>"http://my.app.test"}
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:02 UTC +00:00], ["ticket", "LT-1308190382rD1DE68645AB5F6A684"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190382rD1DE68645AB5F6A684' for client at '127.0.0.1'
Redirected to 
Completed 500 Internal Server Error in 8ms


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:13:02 +1000


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.4ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["ticket", "LT-1308190397rC210535DAEEB366859"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190397rC210535DAEEB366859' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 87ms (Views: 51.0ms | ActiveRecord: 19.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190397rC210535DAEEB366859", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308190397rC210535DAEEB366859'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190397rC210535DAEEB366859' LIMIT 1
Login ticket 'LT-1308190397rC210535DAEEB366859' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:13:17.728504' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["ticket", "LT-1308190397r709AAE5DFA3BD4BBAE"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190397r709AAE5DFA3BD4BBAE' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190397r709AAE5DFA3BD4BBAE, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190397rF7D60650E138D77EEF"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 60ms (Views: 1.9ms | ActiveRecord: 1.7ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308190397rF7D60650E138D77EEF'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190397rF7D60650E138D77EEF' LIMIT 1
Invalid ticket granting ticket 'TGC-1308190397rF7D60650E138D77EEF' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["ticket", "LT-1308190397r4D718B6DB38576B736"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190397r4D718B6DB38576B736' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 1.4ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190397r4D718B6DB38576B736", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308190397r4D718B6DB38576B736'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190397r4D718B6DB38576B736' LIMIT 1
Login ticket 'LT-1308190397r4D718B6DB38576B736' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:13:17.828703' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["ticket", "LT-1308190397r9196125BD8979304AC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190397r9196125BD8979304AC' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190397r9196125BD8979304AC, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 10ms (Views: 1.8ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308190397rF7D60650E138D77EEF'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190397rF7D60650E138D77EEF' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308190397rF7D60650E138D77EEF' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["ticket", "LT-1308190397r92C34BEFA6822A4D42"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190397r92C34BEFA6822A4D42' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 1.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190397r92C34BEFA6822A4D42", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190397r92C34BEFA6822A4D42'
  [1m[36mCassy::LoginTicket Load (0.1ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190397r92C34BEFA6822A4D42' LIMIT 1[0m
Login ticket 'LT-1308190397r92C34BEFA6822A4D42' successfully validated
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:13:17.860300' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["ticket", "LT-1308190397rDAD7DAD6C341E2A4AF"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190397rDAD7DAD6C341E2A4AF' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190397rDAD7DAD6C341E2A4AF, service: http://my.app.test, auth: nil
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190397rC89FA6923E2270ABD9"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308190397r6197CE9D9EA3EC10CB"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated service ticket 'ST-1308190397r6197CE9D9EA3EC10CB' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308190397r6197CE9D9EA3EC10CB
Completed 303 See Other in 70ms


Started GET "/?ticket=ST-1308190397r6197CE9D9EA3EC10CB" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308190397r6197CE9D9EA3EC10CB"}
Rendered text template (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308190397rC89FA6923E2270ABD9'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190397rC89FA6923E2270ABD9' LIMIT 1
Invalid ticket granting ticket 'TGC-1308190397rC89FA6923E2270ABD9' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:17 UTC +00:00], ["ticket", "LT-1308190397r1855FF4E33A136115A"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190397r1855FF4E33A136115A' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 10ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:13:17 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190397r1855FF4E33A136115A", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190397r1855FF4E33A136115A'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190397r1855FF4E33A136115A' LIMIT 1
Login ticket 'LT-1308190397r1855FF4E33A136115A' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:13:17.964230' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:18 UTC +00:00], ["ticket", "LT-1308190398r92419AD37ABE766999"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190398r92419AD37ABE766999' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190398r92419AD37ABE766999, service: http://my.app.test, auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 52ms (Views: 1.7ms | ActiveRecord: 1.0ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 12:13:18 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308190397rC89FA6923E2270ABD9'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190397rC89FA6923E2270ABD9' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308190397rC89FA6923E2270ABD9' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:18 UTC +00:00], ["ticket", "LT-1308190398r7042721B57D43F534F"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190398r7042721B57D43F534F' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 1.1ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 12:13:18 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190397rC89FA6923E2270ABD9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:18 UTC +00:00], ["ticket", "LT-1308190398r80ADF07B3029813CED"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190398r80ADF07B3029813CED' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 1.9ms | ActiveRecord: 1.2ms)


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:13:18 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  Parameters: {"gateway"=>"true", "service"=>"http://my.app.test"}
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:13:18 UTC +00:00], ["ticket", "LT-1308190398r25770DA1E0C12AD4F5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190398r25770DA1E0C12AD4F5' for client at '127.0.0.1'
Redirected to http://my.app.test
Completed 303 See Other in 8ms


Started GET "/" for 127.0.0.1 at 2011-06-16 12:13:18 +1000
  Processing by FakeController#index as HTML
Rendered text template (0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:13:18 +1000


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:14:36 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (18.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:14:36 UTC +00:00], ["ticket", "LT-1308190476r669A5B31D5C6DB39C7"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190476r669A5B31D5C6DB39C7' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 85ms (Views: 51.8ms | ActiveRecord: 19.4ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:19:01 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (33.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:01 UTC +00:00], ["ticket", "LT-1308190741rF5EA5DA163D18BA8A8"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190741rF5EA5DA163D18BA8A8' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (15.3ms)
Completed 200 OK in 109ms (Views: 58.5ms | ActiveRecord: 35.0ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:19:01 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190741rF5EA5DA163D18BA8A8", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190741rF5EA5DA163D18BA8A8'
  [1m[35mCassy::LoginTicket Load (0.2ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190741rF5EA5DA163D18BA8A8' LIMIT 1
Login ticket 'LT-1308190741rF5EA5DA163D18BA8A8' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:19:01.890023' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:01 UTC +00:00], ["ticket", "LT-1308190741r5C8285D62FBFBFF4A0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190741r5C8285D62FBFBFF4A0' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190741r5C8285D62FBFBFF4A0, service: http://my.app.test, auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:19:01 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190741r73E29369A02AC58A90"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:01 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308190741r13D58BE097D4E027F8"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
Generated service ticket 'ST-1308190741r13D58BE097D4E027F8' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308190741r13D58BE097D4E027F8
Completed 303 See Other in 177ms


Started GET "/?ticket=ST-1308190741r13D58BE097D4E027F8" for 127.0.0.1 at 2011-06-16 12:19:02 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308190741r13D58BE097D4E027F8"}
Rendered text template (0.0ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)


Started GET "/serviceValidate?service=http%3A%2F%2Fmy.app.test&ticket=ST-1308190741r13D58BE097D4E027F8" for 127.0.0.1 at 2011-06-16 12:19:02 +1000


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:19:27 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  Parameters: {"gateway"=>"true", "service"=>"http://my.app.test"}
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (24.4ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:27 UTC +00:00], ["ticket", "LT-1308190767r6DD4B3FFCE4A6F2BFC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190767r6DD4B3FFCE4A6F2BFC' for client at '127.0.0.1'
Redirected to http://my.app.test
Completed 303 See Other in 113ms


Started GET "/" for 127.0.0.1 at 2011-06-16 12:19:27 +1000
  Processing by FakeController#index as HTML
Rendered text template (0.0ms)
Completed 200 OK in 51ms (Views: 50.7ms | ActiveRecord: 0.0ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (20.5ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793rE825DF1AA8982CF8D9"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190793rE825DF1AA8982CF8D9' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (16.9ms)
Completed 200 OK in 99ms (Views: 59.8ms | ActiveRecord: 21.2ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190793rE825DF1AA8982CF8D9", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308190793rE825DF1AA8982CF8D9'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190793rE825DF1AA8982CF8D9' LIMIT 1
Login ticket 'LT-1308190793rE825DF1AA8982CF8D9' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:19:53.535600' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793r4BB2C3EA46DD08F1D5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190793r4BB2C3EA46DD08F1D5' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190793r4BB2C3EA46DD08F1D5, service: , auth: nil
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190793rB13C08D0E0F17C3CAC"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 63ms (Views: 1.9ms | ActiveRecord: 1.9ms)


Started GET "/cas/login" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#new as HTML
Validating ticket granting ticket 'TGC-1308190793rB13C08D0E0F17C3CAC'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190793rB13C08D0E0F17C3CAC' LIMIT 1
Invalid ticket granting ticket 'TGC-1308190793rB13C08D0E0F17C3CAC' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793r5CFB8268E32964444E"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190793r5CFB8268E32964444E' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 15ms (Views: 3.5ms | ActiveRecord: 2.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190793r5CFB8268E32964444E", "service"=>"", "commit"=>"Login"}
Validating login ticket 'LT-1308190793r5CFB8268E32964444E'
  [1m[35mCassy::LoginTicket Load (0.1ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190793r5CFB8268E32964444E' LIMIT 1
Login ticket 'LT-1308190793r5CFB8268E32964444E' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:19:53.652578' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793r44AE2E8910E1CEE5A8"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190793r44AE2E8910E1CEE5A8' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190793r44AE2E8910E1CEE5A8, service: , auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (3.9ms)
Completed 401 Unauthorized in 15ms (Views: 4.9ms | ActiveRecord: 1.1ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308190793rB13C08D0E0F17C3CAC'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190793rB13C08D0E0F17C3CAC' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308190793rB13C08D0E0F17C3CAC' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793r9D75A67C9C451E5DBA"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190793r9D75A67C9C451E5DBA' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 1.3ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190793r9D75A67C9C451E5DBA", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190793r9D75A67C9C451E5DBA'
  [1m[36mCassy::LoginTicket Load (0.2ms)[0m  [1mSELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190793r9D75A67C9C451E5DBA' LIMIT 1[0m
Login ticket 'LT-1308190793r9D75A67C9C451E5DBA' successfully validated
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:19:53.690668' WHERE "casserver_lt"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793r2ED38E4943652BBDDF"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190793r2ED38E4943652BBDDF' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190793r2ED38E4943652BBDDF, service: http://my.app.test, auth: nil
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "casserver_tgt" ("client_hostname", "created_on", "extra_attributes", "ticket", "username") VALUES (?, ?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["extra_attributes", "--- \n"], ["ticket", "TGC-1308190793r860BCC203171CE6A42"], ["username", "spec_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "casserver_st" ("client_hostname", "consumed", "created_on", "granted_by_pgt_id", "granted_by_tgt_id", "service", "ticket", "type", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["granted_by_pgt_id", nil], ["granted_by_tgt_id", 1], ["service", "http://my.app.test"], ["ticket", "ST-1308190793rDA75FB5D52A7E3553D"], ["type", "Cassy::ServiceTicket"], ["username", "spec_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated service ticket 'ST-1308190793rDA75FB5D52A7E3553D' for service 'http://my.app.test' for user 'spec_user' at '127.0.0.1'
Redirected to http://my.app.test?ticket=ST-1308190793rDA75FB5D52A7E3553D
Completed 303 See Other in 81ms


Started GET "/?ticket=ST-1308190793rDA75FB5D52A7E3553D" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by FakeController#index as HTML
  Parameters: {"ticket"=>"ST-1308190793rDA75FB5D52A7E3553D"}
Rendered text template (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)


Started GET "/cas/login?service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"http://my.app.test"}
Validating ticket granting ticket 'TGC-1308190793r860BCC203171CE6A42'
  [1m[35mCassy::TicketGrantingTicket Load (0.2ms)[0m  SELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190793r860BCC203171CE6A42' LIMIT 1
Invalid ticket granting ticket 'TGC-1308190793r860BCC203171CE6A42' (no matching ticket found in the database).
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793r67F2BBF5CF790719E1"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Generated login ticket 'LT-1308190793r67F2BBF5CF790719E1' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 10ms (Views: 2.1ms | ActiveRecord: 1.1ms)


Started POST "/cas/login" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"spec_user", "password"=>"[FILTERED]", "lt"=>"LT-1308190793r67F2BBF5CF790719E1", "service"=>"http://my.app.test", "commit"=>"Login"}
Validating login ticket 'LT-1308190793r67F2BBF5CF790719E1'
  [1m[35mCassy::LoginTicket Load (0.4ms)[0m  SELECT "casserver_lt".* FROM "casserver_lt" WHERE "casserver_lt"."ticket" = 'LT-1308190793r67F2BBF5CF790719E1' LIMIT 1
Login ticket 'LT-1308190793r67F2BBF5CF790719E1' successfully validated
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "casserver_lt" SET "consumed" = '2011-06-16 02:19:53.806899' WHERE "casserver_lt"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793r75D663A5290C78F4B0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190793r75D663A5290C78F4B0' for client at '127.0.0.1'
Logging in with username: spec_user, lt: LT-1308190793r75D663A5290C78F4B0, service: http://my.app.test, auth: nil
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 401 Unauthorized in 61ms (Views: 1.8ms | ActiveRecord: 1.3ms)


Started GET "/cas/login?service=%22%2F%3E%3Cscript%3Ealert%2832%29%3C%2Fscript%3E" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#new as HTML
  Parameters: {"service"=>"\"/><script>alert(32)</script>"}
Validating ticket granting ticket 'TGC-1308190793r860BCC203171CE6A42'
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190793r860BCC203171CE6A42' LIMIT 1[0m
Invalid ticket granting ticket 'TGC-1308190793r860BCC203171CE6A42' (no matching ticket found in the database).
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793rEBE7901C87C43373AF"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190793rEBE7901C87C43373AF' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 1.2ms)


Started GET "/cas/logout" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" = 'TGC-1308190793r860BCC203171CE6A42' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793r47A082ABD7AC42B5EC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190793r47A082ABD7AC42B5EC' for client at '127.0.0.1'
Rendered /Users/ryan/Sites/rubyx/cassy/app/views/cassy/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 1.3ms)


Started GET "/cas/logout?gateway=true&service=http%3A%2F%2Fmy.app.test" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by Cassy::SessionsController#destroy as HTML
  Parameters: {"gateway"=>"true", "service"=>"http://my.app.test"}
  [1m[36mCassy::TicketGrantingTicket Load (0.2ms)[0m  [1mSELECT "casserver_tgt".* FROM "casserver_tgt" WHERE "casserver_tgt"."ticket" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "casserver_lt" ("client_hostname", "consumed", "created_on", "ticket") VALUES (?, ?, ?, ?)[0m  [["client_hostname", "127.0.0.1"], ["consumed", nil], ["created_on", Thu, 16 Jun 2011 02:19:53 UTC +00:00], ["ticket", "LT-1308190793rC3AA4D1118F61374C6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Generated login ticket 'LT-1308190793rC3AA4D1118F61374C6' for client at '127.0.0.1'
Redirected to http://my.app.test
Completed 303 See Other in 9ms


Started GET "/" for 127.0.0.1 at 2011-06-16 12:19:53 +1000
  Processing by FakeController#index as HTML
Rendered text template (0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
